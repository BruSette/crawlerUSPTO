<html><head>
<base target="_top"/>
<title>United States Patent: 9344339</title></head>
<!---BUF1=9344339
BUF7=2016
BUF8=76011
BUF9=/1/
BUF51=9
---->
<body bgcolor="#FFFFFF">
<a name="top"></a>
<center>
<img alt="[US Patent &amp; Trademark Office, Patent Full Text and Image Database]" src="/netaicon/PTO/patfthdr.gif"/>
<br/>
<table>
<tbody><tr><td align="center">
<a href="/netahtml/PTO/index.html"><img alt="[Home]" border="0" src="/netaicon/PTO/home.gif" valign="middle"/></a>
<a href="/netahtml/PTO/search-bool.html"><img alt="[Boolean Search]" border="0" src="/netaicon/PTO/boolean.gif" valign="middle"/></a>
<a href="/netahtml/PTO/search-adv.htm"><img alt="[Manual Search]" border="0" src="/netaicon/PTO/manual.gif" valign="middle"/></a>
<a href="/netahtml/PTO/srchnum.htm"><img alt="[Number Search]" border="0" src="/netaicon/PTO/number.gif" valign="middle"/></a>
<a href="/netahtml/PTO/help/help.htm"><img alt="[Help]" border="0" src="/netaicon/PTO/help.gif" valign="middle"/></a>
</td></tr>
<tr><td align="center">
   <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=10&amp;Query=facebook"><img alt="[PREV_LIST]" border="0" src="/netaicon/PTO/prevlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;Query=facebook"><img alt="[HIT_LIST]" border="0" src="/netaicon/PTO/hitlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=12&amp;Query=facebook"><img alt="[NEXT_LIST]" border="0" src="/netaicon/PTO/nextlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=522&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;OS=facebook"><img alt="[PREV_DOC]" border="0" src="/netaicon/PTO/prevdoc.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=524&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;OS=facebook"><img alt="[NEXT_DOC]" border="0" src="/netaicon/PTO/nextdoc.gif" valign="MIDDLE"/></a>

<a href="#bottom"><img alt="[Bottom]" border="0" src="/netaicon/PTO/bottom.gif" valign="middle"/></a>
</td></tr>
   <tr><td align="center">
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D523%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D11%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209344339"><img alt="[
View Shopping Cart]" border="0" src="/netaicon/PTO/cart.gif" valign="middle"/></a>
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=9344339&amp;backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D523%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D11%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209344339">
   <img alt="[Add to Shopping Cart]" border="0" src="/netaicon/PTO/order.gif" valign="middle"/></a>
   </td></tr>
   <tr><td align="center">
   <a href="http://pdfpiw.uspto.gov/.piw?Docid=09344339&amp;homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D523%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3Dfacebook%2526p%3D11%2526OS%3Dfacebook%2526RS%3Dfacebook&amp;PageNum=&amp;Rtype=&amp;SectionNum=&amp;idkey=NONE&amp;Input=View+first+page"><img alt="[Image]" border="0" src="/netaicon/PTO/image.gif" valign="middle"/></a>

   </td></tr>
</tbody></table>
</center>
<table width="100%">
<tbody><tr><td align="left" width="50%"> </td>
<td align="right" valign="bottom" width="50%"><font size="-1">( <strong>523</strong></font> <font size="-2">of</font> <strong><font size="-1">7895</font></strong> <font size="-1">)</font></td></tr></tbody></table>
<hr/>
   <table width="100%">
   <tbody><tr>	<td align="left" width="50%"><b>United States Patent </b></td>
   <td align="right" width="50%"><b>9,344,339</b></td>
   </tr>
     <tr><td align="left" width="50%"><b>
         McGuire
,   et al.</b>
     </td>
     <td align="right" width="50%"> <b>
     May 17, 2016
</b></td>
     </tr>
     </tbody></table>
       <hr/>
       <font size="+1">Efficient service discovery for peer-to-peer networking devices
</font><br/>
       <br/><center><b>Abstract</b></center>
       <p> Techniques for discovering and/or advertising services are described
     herein. A first bitmask is received from a remote device over a wireless
     network, the first bitmask having one or more bits that have a
     predetermined logical value. Each bit represents a particular service
     provided by the remote device. A logical operation is performed between
     the first bitmask and a second bitmask locally generated within a local
     device, where the second bitmask represents a service being searched by
     the local device. It is determined whether the remote device is
     potentially capable of providing the service being searched by the local
     device based on a result of the logical operation.
</p>
       <hr/>
<table width="100%"> <tbody><tr> <th align="left" scope="row" valign="top" width="10%">Inventors:</th> <td align="left" width="90%">
 <b>McGuire; Rory L. P.</b> (Albuquerque, NM)<b>, Van Milligan; Michael</b> (San Francisco, CA)<b>, Conn; Jason</b> (San Francisco, CA)<b>, Graessley, Sr.; Joshua</b> (San Jose, CA)<b>, Prats; Augustin</b> (Mountain View, CA)<b>, Tucker; Brian</b> (San Jose, CA) </td> </tr>
<tr><th align="left" scope="row" valign="top" width="10%">Applicant: </th><td align="left" width="90%"> <table> <tbody><tr> <th align="center" scope="column">Name</th> <th align="center" scope="column">City</th> <th align="center" scope="column">State</th> <th align="center" scope="column">Country</th> <th align="center" scope="column">Type</th> </tr> <tr> <td> <b><br/>Apple Inc.</b> </td><td> <br/>Cupertino </td><td align="center"> <br/>CA </td><td align="center"> <br/>US </td> <td align="left"> </td> </tr>
</tbody></table>
<!-- AANM>
~AANM Apple Inc.
~AACI Cupertino
~AAST CA
~AACO US
</AANM -->
</td></tr>
<tr> <th align="left" scope="row" valign="top" width="10%">Assignee:</th>
<td align="left" width="90%">

<b>APPLE INC.</b>
 (Cupertino, 
CA)
<br/>

</td>
</tr>
       <tr><th align="left" nowrap="" scope="row" valign="top" width="10%">Family ID:
       </th><td align="left" width="90%">
       <b>43334537
</b></td></tr>
       <tr><th align="left" nowrap="" scope="row" valign="top" width="10%">Appl. No.:
       </th><td align="left" width="90%">
       <b>14/063,915</b></td></tr>
       <tr><th align="left" scope="row" valign="top" width="10%">Filed:
       </th><td align="left" width="90%">
       <b>October 25, 2013</b></td></tr>
     </tbody></table>
<hr/> <center><b>Prior Publication Data</b></center> <hr/> <table width="100%"> <tbody><tr><th scope="col"></th><th scope="col"></th><td></td></tr> <tr><td align="left">
</td><th align="center" scope="col"><b><u>Document Identifier</u></b></th><th align="center" scope="col"><b><u>Publication Date</u></b></th></tr><tr><td align="center"> </td><td align="center"> US 20140052862 A1</td><td align="center">Feb 20, 2014</td></tr><tr><td align="center"> 
</td>
</tr> </tbody></table>
<hr/> <center><b>Related U.S. Patent Documents</b></center> <hr/> <table width="100%"> <tbody><tr><th scope="col" width="7%"></th><th scope="col"></th><th scope="col"></th> <th scope="col"></th><th scope="col"></th><td></td></tr> <tr><td align="left">
</td><th align="center" scope="col"><b><u>Application Number</u></b></th><th align="center" scope="col"><b><u>Filing Date</u></b></th><th align="center" scope="col"><b><u>Patent Number</u></b></th><th align="center" scope="col"><b><u>Issue Date</u></b></th></tr><tr><td align="center"> </td><td align="center">13617212</td><td align="center">Sep 14, 2012</td><td align="center">8572248</td><td align="center"></td></tr><tr><td align="center"> </td><td align="center">12687814</td><td align="center">Jan 14, 2010</td><td align="center">8285860</td><td align="center"></td></tr><tr><td align="center"> </td><td align="center">12405130</td><td align="center">Mar 16, 2009</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"> </td><td align="center">61240509</td><td align="center">Sep 8, 2009</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"> </td><td align="center">61249582</td><td align="center">Mar 16, 2009</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"> 
</td>
</tr> </tbody></table><td< td=""></td<><td< td=""></td<><td< td=""></td<><td< td=""></td<><td< td=""></td<><td< td=""></td<>     <hr/>
<p> <table width="100%"> <tbody><tr><td align="left" valign="top" width="30%"><b>Current U.S. Class:</b></td> <td align="right" valign="top" width="70%"><b>1/1</b> </td></tr> 
       <tr><td align="left" valign="top" width="30%"><b>Current CPC Class: </b></td>
       <td align="right" valign="top" width="70%">H04L 61/1511 (20130101); H04L 67/16 (20130101); H04L 67/104 (20130101); H04L 67/1065 (20130101); H04L 41/50 (20130101); H04L 61/1541 (20130101); H04L 61/303 (20130101); H04W 4/00 (20130101); H04W 48/16 (20130101); H04W 92/18 (20130101); H04W 84/12 (20130101)</td></tr>
         <tr><td align="left" valign="top" width="30%"><b>Current International Class: </b></td>
         <td align="right" valign="top" width="70%">G06F 15/173 (20060101); H04L 12/24 (20060101); H04L 29/12 (20060101); H04L 29/08 (20060101); H04W 4/00 (20090101); H04W 48/16 (20090101); H04W 92/18 (20090101)</td></tr>
       <tr><td align="left" valign="top" width="30%"><b>Field of Search: </b></td>
       <td align="right" valign="top" width="70%">
       
 ;709/225
       </td></tr>
     </tbody></table>
</p><hr/><center><b>References Cited  <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2Fsearch-adv.htm&amp;r=0&amp;f=S&amp;l=50&amp;d=PALL&amp;Query=ref/9344339">[Referenced By]</a></b></center>       <hr/>
       <center><b>U.S. Patent Documents</b></center>
<table width="100%"> <tbody><tr><th scope="col" width="33%"></th> <th scope="col" width="33%"></th> <th scope="col" width="34%"></th></tr> <tr> <td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F5794446">5794446</a></td><td align="left">
August 1998</td><td align="left">
Earley et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F5852661">5852661</a></td><td align="left">
December 1998</td><td align="left">
Chen</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F6463078">6463078</a></td><td align="left">
October 2002</td><td align="left">
Engstrom et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F6523108">6523108</a></td><td align="left">
February 2003</td><td align="left">
James et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F6922725">6922725</a></td><td align="left">
July 2005</td><td align="left">
Lamming et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7097562">7097562</a></td><td align="left">
August 2006</td><td align="left">
Gagner</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7103313">7103313</a></td><td align="left">
September 2006</td><td align="left">
Heinonen et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7133896">7133896</a></td><td align="left">
November 2006</td><td align="left">
Ogdon et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7159211">7159211</a></td><td align="left">
January 2007</td><td align="left">
Jalan et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7171475">7171475</a></td><td align="left">
January 2007</td><td align="left">
Weisman et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7249182">7249182</a></td><td align="left">
July 2007</td><td align="left">
Heinonen et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7277946">7277946</a></td><td align="left">
October 2007</td><td align="left">
Humphrey et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7299257">7299257</a></td><td align="left">
November 2007</td><td align="left">
Boyer et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7333464">7333464</a></td><td align="left">
February 2008</td><td align="left">
Yang et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7415711">7415711</a></td><td align="left">
August 2008</td><td align="left">
Chew et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7421494">7421494</a></td><td align="left">
September 2008</td><td align="left">
Edwards et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7491123">7491123</a></td><td align="left">
February 2009</td><td align="left">
Smith</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7522549">7522549</a></td><td align="left">
April 2009</td><td align="left">
Karaoguz et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7534169">7534169</a></td><td align="left">
May 2009</td><td align="left">
Amaitis et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7590086">7590086</a></td><td align="left">
September 2009</td><td align="left">
Olkkonen et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7590097">7590097</a></td><td align="left">
September 2009</td><td align="left">
Ekberg et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7685288">7685288</a></td><td align="left">
March 2010</td><td align="left">
Kakivaya et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7711999">7711999</a></td><td align="left">
May 2010</td><td align="left">
Agazzi et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7730206">7730206</a></td><td align="left">
June 2010</td><td align="left">
Newson et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7827139">7827139</a></td><td align="left">
November 2010</td><td align="left">
Schauser et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7831673">7831673</a></td><td align="left">
November 2010</td><td align="left">
Cohen et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F7899915">7899915</a></td><td align="left">
March 2011</td><td align="left">
Reisman</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8025572">8025572</a></td><td align="left">
September 2011</td><td align="left">
Spanton et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8036672">8036672</a></td><td align="left">
October 2011</td><td align="left">
Laroia et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8116686">8116686</a></td><td align="left">
February 2012</td><td align="left">
Lin et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8126982">8126982</a></td><td align="left">
February 2012</td><td align="left">
Nidd</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8165079">8165079</a></td><td align="left">
April 2012</td><td align="left">
Lee et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8230459">8230459</a></td><td align="left">
July 2012</td><td align="left">
Kawada et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8285860">8285860</a></td><td align="left">
October 2012</td><td align="left">
McGuire et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8416735">8416735</a></td><td align="left">
April 2013</td><td align="left">
Beach</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20020021903&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2002/0021903</a></td><td align="left">
February 2002</td><td align="left">
Ito et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20030177187&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2003/0177187</a></td><td align="left">
September 2003</td><td align="left">
Levine et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20040253923&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2004/0253923</a></td><td align="left">
December 2004</td><td align="left">
Braley et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20050071845&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2005/0071845</a></td><td align="left">
March 2005</td><td align="left">
Kallio et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20050088980&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2005/0088980</a></td><td align="left">
April 2005</td><td align="left">
Olkkonen et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20050138173&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2005/0138173</a></td><td align="left">
June 2005</td><td align="left">
Ha et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20060039354&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2006/0039354</a></td><td align="left">
February 2006</td><td align="left">
Rao et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20060073869&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2006/0073869</a></td><td align="left">
April 2006</td><td align="left">
LeMay et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20060190715&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2006/0190715</a></td><td align="left">
August 2006</td><td align="left">
Miller</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20060215601&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2006/0215601</a></td><td align="left">
September 2006</td><td align="left">
Vleugels et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20070195760&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2007/0195760</a></td><td align="left">
August 2007</td><td align="left">
Rahman et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20070218997&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2007/0218997</a></td><td align="left">
September 2007</td><td align="left">
Cho</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20070264991&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2007/0264991</a></td><td align="left">
November 2007</td><td align="left">
Jones et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080003946&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0003946</a></td><td align="left">
January 2008</td><td align="left">
Lee et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080009344&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0009344</a></td><td align="left">
January 2008</td><td align="left">
Graham et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080220878&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0220878</a></td><td align="left">
September 2008</td><td align="left">
Michaelis</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080291916&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0291916</a></td><td align="left">
November 2008</td><td align="left">
Xiong et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080320041&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0320041</a></td><td align="left">
December 2008</td><td align="left">
Engelsma et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20090063686&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2009/0063686</a></td><td align="left">
March 2009</td><td align="left">
Schmidt et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20090132935&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2009/0132935</a></td><td align="left">
May 2009</td><td align="left">
Van Zwol</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20090141692&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2009/0141692</a></td><td align="left">
June 2009</td><td align="left">
Kasslin et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20090265661&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2009/0265661</a></td><td align="left">
October 2009</td><td align="left">
Shuster</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20100041457&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2010/0041457</a></td><td align="left">
February 2010</td><td align="left">
Cook et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20100233960&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2010/0233960</a></td><td align="left">
September 2010</td><td align="left">
Tucker</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20100235523&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2010/0235523</a></td><td align="left">
September 2010</td><td align="left">
Garcia et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20120078978&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2012/0078978</a></td><td align="left">
March 2012</td><td align="left">
Shoolman et al.</td></tr><tr><td align="left">

</td>
</tr> </tbody></table>
       <center><b>Foreign Patent Documents</b></center>
<table width="100%"> <tbody><tr><td></td><th scope="col"></th> <td></td><th scope="col"></th> <td></td><th scope="col"></th></tr> <tr> <td align="left">
</td><td align="left">1522503</td><td></td><td align="left">
Aug 2004</td><td></td><td align="left">
CN</td></tr><tr><td align="left">
</td><td align="left">1494432</td><td></td><td align="left">
Jun 2004</td><td></td><td align="left">
EP</td></tr><tr><td align="left">
</td><td align="left">2293517</td><td></td><td align="left">
Apr 2010</td><td></td><td align="left">
EP</td></tr><tr><td align="left">
</td><td align="left">2415325</td><td></td><td align="left">
Jun 2004</td><td></td><td align="left">
GB</td></tr><tr><td align="left">
</td><td align="left">2002055896</td><td></td><td align="left">
Feb 2002</td><td></td><td align="left">
JP</td></tr><tr><td align="left">
</td><td align="left">2007110186</td><td></td><td align="left">
Apr 2007</td><td></td><td align="left">
JP</td></tr><tr><td align="left">
</td><td align="left">2008097297</td><td></td><td align="left">
Apr 2008</td><td></td><td align="left">
JP</td></tr><tr><td align="left">
</td><td align="left">2008211507</td><td></td><td align="left">
Sep 2008</td><td></td><td align="left">
JP</td></tr><tr><td align="left">
</td><td align="left">02059752</td><td></td><td align="left">
Aug 2002</td><td></td><td align="left">
WO</td></tr><tr><td align="left">
</td><td align="left">03029966</td><td></td><td align="left">
Apr 2003</td><td></td><td align="left">
WO</td></tr><tr><td align="left">
</td><td align="left">03003610</td><td></td><td align="left">
Sep 2003</td><td></td><td align="left">
WO</td></tr><tr><td align="left">
</td><td align="left">2007136622</td><td></td><td align="left">
Nov 2007</td><td></td><td align="left">
WO</td></tr><tr><td align="left">
</td><td align="left">2010107703</td><td></td><td align="left">
Sep 2010</td><td></td><td align="left">
WO</td></tr><tr><td align="left">
</td><td align="left">2011031354</td><td></td><td align="left">
Mar 2011</td><td></td><td align="left">
WO</td></tr><tr><td align="left">

</td>
</tr> </tbody></table>
<table width="90%">   <tbody><tr><td><align="left"><br/>Peter Koch, A New Scheme for the Compression of Domain Names, Jun. 1999, Internet Draft-05, pp. 1-8. cited by examiner
.<br/>Stuart Cheshire, DNS-Based Service Discovery, Aug. 2006, Internet Draft-04, All Pages. cited by examiner
.<br/>Al-Masri, Eyhab et al., "Enhancing the Discovery of Mobile Services", www 2008, Beijing China, Apr. 21-25, 2008, downloaded from www2.research.att.com/{rjana/MobEA2008/final/MobEA2008-02.pdf, Jun. 14, 2010, 10 pages. cited by applicant
.<br/>Cheshire, Stuart et al., "DNS-Based Service Discovery &lt;draft-cheshire-dnsext-dns=sd-05.txt&gt;," Internet Engineering Taskforce, IETF; Standardworkingdraft, Internet Society (ISOC), Sep. 10, 2008. cited by applicant
.<br/>Faller, Christof et al., "Robust Acoustic Echo Control Using a Simple Echo Path Model," Audiovisual Communications Laboratory, EPFL, Lausanne, Switzerland, 2006, 4 pages. cited by applicant
.<br/>Kozierok, Charles M. "The TCP/IP Guide: DNS Name Notation and Message Compression Technique," Jun. 21, 2008, downloaded from http://web.archive.org/web/20080622105423/http://www.tcpipguide.com/free/-
t.sub.--DNSNameNotationandMessageCompressionTechnique-2.htm, Dec. 22, 2010. cited by applicant
.<br/>Phua, Kia Ming et al., "A web-based Internet Java Phone for real-time voice communcation," World Wide Web, Baltzer Science Publishers, Bussum, Netherlands, vol. 3, Jan. 2000, pp. 193-203. cited by applicant
.<br/>Preub, Stephan "JESA Service Directory Protocol Efficient Service Discovery in Ad-Hoc Networks," Networking 2002: Networking Technologies, Services, and Protocols; Performance of Computer Networks; Mobile and Wireless Communications, Lecture Notes
in Computer Science, Springer Berlin Heidelberg, Germany, May 19, 2002. cited by applicant
.<br/>Sedov, Igor et al. "Time and Energy Efficient Service Directory in Bluetooth," VTC 2003-Spring, The 57th IEEE Semiannual Vehicular Technology Conference, Proceedings, Jeju Korea, Apr. 22-25, 2003, IEEE Vehicular Technology Conference, IEEE, vol. 1,
Apr. 22, 2003, pp. 418-422. cited by applicant
.<br/>Sacramento, Vagner et al., "MoCA: A Middleware for Developing Collaborative Applications for Mobile Users,", IEEE Distributed Systems Online, IEEE Computer Society, vol. 5, No. 10, Oct. 2004. cited by applicant
.<br/>Sukkar, Rafid A. et al., "Echo Detection and Delay Estimation Using a Pattern Recognition Approach and Cepstral Correlation," ICASSP 2007, vol. 4, Apr. 15, 2007, pp. 909-912. cited by applicant
.<br/>Sun Microsystems, "Jini Architecture Specification: Version 1.2" Sun Microsystems, Dec. 31, 2001, downloaded from www.sun.com/software/jini/specs/index, May 4, 2004. cited by applicant
.<br/>Wikipedia, "Bonjour (software)", http://en.wikipedia.org/wiki/Bonjour.sub.--(software). Mar. 6, 2009 5 pages. cited by applicant
.<br/>Wikipedia, Echo suppressor, http://en.wikipedia.org/wiki/Echo.sub.--suppressor, Mar. 6, 2009 2 pages. cited by applicant
.<br/>Wikipedia, NAT traversal, http://en.wikipedia.org/wiki/NAT.sub.--traversal. Mar. 6, 2009 3 pages. cited by applicant. </align="left"></td></tr> </tbody></table><br/><center><b>Other References</b></center> <br/>
       <i>Primary Examiner:</i> Kim; Hee Soo
<br/>
       <i>Attorney, Agent or Firm:</i> <coma><coma>Park, Vaughan, Fleming &amp; Dowler LLP
Jones; Anthony P.
<br/>
       <hr/>
       <center><b><i>Parent Case Text</i></b></center>
       <hr/>
       <br/><br/>RELATED APPLICATIONS
<br/><br/> This application is a continuation of, and hereby claims priority under
     35 U.S.C. .sctn.120 to, pending U.S. patent application Ser. No.
     13/617,212, which is titled "Efficient Service Discovery for Peer-to-Peer
     Networking Devices," by the same inventors, which was filed 14 Sep. 2012.
     This application also claims priority to U.S. application Ser. No.
     12/687,814, which is titled "Efficient Service Discovery for Peer-to-Peer
     Networking Devices," by the same inventors, which was filed 14 Jan. 2010,
     and which issued as U.S. Pat. No. 8,285,860 on 9 Oct. 2012, of which
     parent application Ser. No. 13/617,212 is a continuation. This
     application additionally claims priority to U.S. provisional patent
     application Nos. 61/240,509 and 61/249,582, which were filed 8 Sep. 2009
     and 7 Oct. 2009, respectively, to which parent application Ser. No.
     13/617,212 and grandparent application Ser. No. 12/867,814 claim
     priority. This application further claims priority to now-abandoned U.S.
     patent application Ser. No. 12/405,130, which is titled "Service
     Discovery Functionality Utilizing Personal Area Network Protocols," by
     inventor Brian Tucker, which was filed on 16 Mar. 2009, of which parent
     application Ser. No. 13/617,212 is a continuation-in-part. Each of these
     applications is incorporated by reference.
<br/><br/> This application is also related to co-pending U.S. patent application
     Ser. Nos. 12/479,745 and 12/479,586, which were both filed on 5 Jun.
     2009. These applications are incorporated by reference.
         <hr/>
<center><b><i>Claims</i></b></center> <hr/> <br/><br/>What is claimed is: <br/><br/> 1.  A method for providing information about a service in a first computing device, comprising: in the first computing device, performing operations for: generating a first
DNS packet based on the service, wherein the first DNS packet comprises at least one field in which at least one string is represented by a pointer that indicates an instance of the at least one string elsewhere in the first DNS packet;  generating a
key/value pair that comprises a key and a value, each of the key and the value comprising information based on at least one corresponding field in the first DNS packet, wherein at least one of the key and the value comprise information from a field in
which at least one string is represented by a pointer to an instance of the at least one string elsewhere in the first DNS packet;  adding, to the key, an identifier for generating a second DNS packet similar to the first DNS packet in the second
computing device, the identifier identifying the first DNS packet as an in-memory DNS packet that was used in generating the key/value pair by the first computing device, and the identifier configured to be used by the second computing device to
decompress the key back into a full DNS name;  and sending the key/value pair to a second computing device.
<br/><br/> 2.  The method of claim 1, wherein the at least one corresponding field in the first DNS packet for the key is at least one of a name field and a type field in the first DNS packet;  and wherein the at least one corresponding field in the first
DNS packet for the value is a data field in the first DNS packet.
<br/><br/> 3.  The method of claim 1, wherein generating the first DNS packet based on the service comprises, for each field in which at least one string is represented by a pointer to an instance of the at least one string elsewhere in the first DNS
packet: determining a location of the at least one string elsewhere in the DNS packet;  and setting the pointer for the at least one string to indicate the location elsewhere in the DNS packet.
<br/><br/> 4.  The method of claim 3, wherein setting the pointer for the at least one string to indicate the location elsewhere in the DNS packet comprises: setting the pointer to indirectly indicate the at least one string via one or more intermediate
pointers.
<br/><br/> 5.  The method of claim 1, wherein the pointer replaces the at least one string in the at least one field.
<br/><br/> 6.  The method of claim 1, further comprising: generating a bitmask based on the key/value pair, the bitmask configured to be sent to the second computing device and used by the second computing device to identify that the service may be
provided by the first computing device.
<br/><br/> 7.  The method of claim 1, wherein the first DNS packet is an in-memory DNS packet.
<br/><br/> 8.  A non-transitory computer-readable storage medium storing instructions that, when executed by a first computing device, cause the first computing device to perform a method for providing information about a service, the method comprising:
generating a first DNS packet based on the service, wherein the first DNS packet comprises at least one field in which at least one string is represented by a pointer that indicates an instance of the at least one string elsewhere in the first DNS
packet;  generating a key/value pair that comprises a key and a value, each of the key and the value comprising information based on at least one corresponding field in the first DNS packet, wherein at least one of the key and the value comprise
information from a field in which at least one string is represented by a pointer to an instance of the at least one string elsewhere in the first DNS packet;  adding, to the key, an identifier for generating a second DNS packet similar to the first DNS
packet in the second computing device, the identifier identifying the first DNS packet as an in-memory DNS packet that was used in generating the key/value pair by the first computing device, and the identifier configured to be used by the second
computing device to decompress the key back into a full DNS name;  and sending the key/value pair to a second computing device.
<br/><br/> 9.  The computer-readable storage medium of claim 8, wherein the at least one corresponding field in the first DNS packet for the key is at least one of a name field and a type field in the first DNS packet;  and wherein the at least one
corresponding field in the first DNS packet for the value is a data field in the first DNS packet.
<br/><br/> 10.  The computer-readable storage medium of claim 8, wherein generating the first DNS packet based on the service comprises, for each field in which at least one string is represented by a pointer to an instance of the at least one string
elsewhere in the first DNS packet: determining a location of the at least one string elsewhere in the DNS packet;  and setting the pointer for the at least one string to indicate the location elsewhere in the DNS packet.
<br/><br/> 11.  The computer-readable storage medium of claim 10, wherein setting the pointer for the at least one string to indicate the location elsewhere in the DNS packet comprises: setting the pointer to indirectly indicate the at least one string via
one or more intermediate pointers.
<br/><br/> 12.  The computer-readable storage medium of claim 8, wherein the pointer replaces the at least one string in the at least one field.
<br/><br/> 13.  The computer-readable storage medium of claim 8, further comprising: generating a bitmask based on the key/value pair, the bitmask configured to be sent to the second computing device and used by the second computing device to identify that
the service may be provided by the first computing device.
<br/><br/> 14.  A computing device, comprising: a processor;  and a network interface;  wherein the processor and the network interface are configured to perform operations for: generating a first DNS packet based on the service, wherein the first DNS
packet comprises at least one field in which at least one string is represented by a pointer that indicates an instance of the at least one string elsewhere in the first DNS packet;  generating a key/value pair that comprises a key and a value, each of
the key and the value comprising information based on at least one corresponding field in the first DNS packet, wherein at least one of the key and the value comprise information from a field in which at least one string is represented by a pointer to an
instance of the at least one string elsewhere in the first DNS packet;  adding, to the key, an identifier for generating a second DNS packet similar to the first DNS packet in the second computing device, the identifier identifying the first DNS packet
as an in-memory DNS packet that was used in generating the key/value pair by the first computing device, and the identifier configured to be used by the second computing device to decompress the key back into a full DNS name;  and sending the key/value
pair to a second computing device, wherein the key/value pair is configured to enable the second computing device to generate a second DNS packet similar to the first DNS packet in order to resolve the pointer in the at least one of the key and the
value.
<br/><br/> 15.  The computing device of claim 14, wherein the at least one corresponding field in the first DNS packet for the key is at least one of a name field and a type field in the first DNS packet;  and wherein the at least one corresponding field
in the first DNS packet for the value is a data field in the first DNS packet.
<br/><br/> 16.  The computing device of claim 14, wherein when generating the first DNS packet based on the service, for each field in which at least one string is represented by a pointer to an instance of the at least one string elsewhere in the first
DNS packet, the processor and the network interface are configured to perform operations for: determining a location of the at least one string elsewhere in the DNS packet;  and setting the pointer for the at least one string to indicate the location
elsewhere in the DNS packet.
<br/><br/> 17.  The computing device of claim 16, wherein setting the pointer for the at least one string to indicate the location elsewhere in the DNS packet comprises: setting the pointer to indirectly indicate the at least one string via one or more
intermediate pointers. <hr/> <center><b><i>Description</i></b></center> <hr/> <br/><br/>FIELD OF THE INVENTION
<br/><br/> The present invention relates generally to peer-to-peer networking.  More particularly, this invention relates to efficient service discovery for peer-to-peer networking devices.
<br/><br/>BACKGROUND
<br/><br/> Bluetooth (BT) wireless technology provides a manner in which many wireless devices may communicate with one another, without connectors, wires or cables.  Current common uses for Bluetooth technology include those for headsets, cellular car
kits and adapters.  Moreover, Bluetooth technology is currently used for connecting a printer, keyboard, or mouse to a personal computer without cables.  Also, since Bluetooth technology can facilitate delivery of large amounts of data, computers may use
Bluetooth for connection to the Internet.  Mobile communication devices such as cellular telephones may transfer photos, video or ring tones between them.  Additional functionality is expected to continue to expand.
<br/><br/> Before two Bluetooth enabled devices may communicate, the devices must be paired.  Bluetooth pairing occurs when the two Bluetooth enabled devices become a trusted pair.  To become a trusted pair, two Bluetooth devices must first complete a
specific discovery and authentication process.  When a first Bluetooth device recognizes a second Bluetooth device, and they complete a specific discovery and authentication process, each device can automatically accept communication between them.
<br/><br/> Device discovery is the procedure a Bluetooth wireless device uses to locate nearby Bluetooth wireless devices with which it wishes to communicate.  Exchanging the Bluetooth addresses of the discoverable devices, their friendly names and other
relevant information via establishing a short term connection with each device in the vicinity can be a time consuming procedure.  The procedure can involve having one Bluetooth wireless device transmitting an inquiry request to other Bluetooth wireless
devices scanning for inquiry requests.  A device that transmits the inquiry request (a potential master) is said to be discovering devices while the device that is scanning for inquiry requests is said to be discoverable.
<br/><br/> Service discovery is another procedure in which one Bluetooth device searches for a service or application that may be provided by one or more remote Bluetooth devices.  Similar to the device discovery procedure, the originated Bluetooth device
(in this situation a client device) has to send an inquiry to other Bluetooth devices (in this situation a server device) to determine whether those Bluetooth devices have the service or application being searched available.  This procedure usually takes
relatively long time and it may consume more power.  Devices with other communication systems, such as radios operating under a WiFi standard (e.g. IEEE 802.11n or other IEEE 802.11 standards) or under other wireless communication systems, can also take
a relatively long time to discover each other and their respective services.  There has been a lack of an efficient way to perform a service discovery procedure.
<br/><br/>SUMMARY OF THE DESCRIPTION
<br/><br/> Techniques for discovering and/or advertising services are described herein.  According to one aspect of the invention, a first bitmask is received from a remote device over a wireless network, the first bitmask having one or more bits that have
a predetermined logical value.  Each bit represents a particular service provided by the remote device.  A logical operation is performed between the first bitmask and a second bitmask locally generated within a local device, where the second bitmask
represents a service being searched by the local device.  It is determined whether the remote device is potentially capable of providing the service being searched by the local device based on a result of the logical operation.
<br/><br/> According to another aspect of the invention, a key/value pair is generated based on an identifier of a service to be advertised by a local device.  A hash operation is performed on a key of the key/value pair to generate a bitmask, the bitmask
including a bit having a predetermined logical value.  In response to an inquiry message from a remote device over a wireless network for searching for a service, the bitmask is transmitted to the remote device over the wireless network to allow the
remote device to determine whether the local device is potentially capable of providing a service being searched based on the bitmask.
<br/><br/> According to another aspect of the invention, one or more domain name system (DNS) resource records are received identifying a service available for access in a network.  In response, a DNS packet is created based on the DNS resource records. 
This DNS packet includes domain names having pointers referenced to other domain name(s) that previously appear in the DNS packet without reciting the entire referenced domain name(s).  A key/value pair is generated from each resource record, where each
key/value pair is used to represent a service to be available for access in the network.
<br/><br/> One or more embodiments described herein can use any one of a variety of wireless communications systems, such as, for example, Bluetooth compliant communication systems, WiFi compliant communication systems (e.g. radios operating under any one
of the IEEE 802.11 standards such as the 802.11g standard or the IEEE 802.11n standard), WiMax compliant communication systems, radios operating under a cellular telephony standard, radios operating under a personal area network (PAN) standard, etc.
<br/><br/> A service as described herein may be any one of a variety of applications or other facilities such as multi-player games (e.g. a card game on each of several devices, etc.) or collaborative applications (e.g. music creation applications, one on
each of a plurality of devices, or document creation or authoring applications, one on each of a plurality of devices, etc.) or social networking applications (e.g. a <b><i>Facebook</i></b> application on each of a plurality of devices, or a LinkedIn application on
each of a plurality of devices or a MySpace application on each of a plurality of devices, etc.), or voice chat applications, or text chat applications or instant messaging applications, etc. Examples of services and devices used in networking are also
described in U.S.  patent application Ser.  No. 12/479,745, filed Jun.  5, 2009 and in U.S.  patent application Ser.  No. 12/479,586 filed Jun.  5, 2009, and both of these applications are incorporated herein by reference.
<br/><br/> Data processing systems, machine readable storage media, and methods which include or use one or more embodiments of the invention are also described.  Other features of the present invention will be apparent from the accompanying drawings and
from the detailed description which follows. <br/><br/>BRIEF DESCRIPTION OF THE DRAWINGS
<br/><br/> The present invention is illustrated by way of example and not limitation in the figures of the accompanying drawings in which like references indicate similar elements.
<br/><br/> FIG. 1 is a block diagram illustrating a network configuration of a wireless environment according to one embodiment.
<br/><br/> FIG. 2 is a transactional diagram illustrating transactions between two peer-to-peer networking devices according to one embodiment of the invention.
<br/><br/> FIG. 3 is a flow diagram illustrating a method for advertising a service of a computing device according to one embodiment.
<br/><br/> FIG. 4 is a flow diagram illustrating a method for discovering a service provided by a peer device according to one embodiment.
<br/><br/> FIG. 5A is a block diagram illustrating a typical uncompressed DNS packet.
<br/><br/> FIG. 5B is a block diagram illustrating a compressed DNS packet according to one embodiment.
<br/><br/> FIG. 5C is a block diagram illustrating a key/value pair generated from a DNS packet according to one embodiment.
<br/><br/> FIG. 6 is a flow diagram illustrating a method for generating a key/value pair according to one embodiment.
<br/><br/> FIG. 7 is a block diagram of a data processing system, which may be used with one embodiment of the invention.
<br/><br/>DETAILED DESCRIPTION
<br/><br/> Various embodiments and aspects of the inventions will be described with reference to details discussed below, and the accompanying drawings will illustrate the various embodiments.  The following description and drawings are illustrative of the
invention and are not to be construed as limiting the invention.  Numerous specific details are described to provide a thorough understanding of various embodiments of the present invention.  However, in certain instances, well-known or conventional
details are not described in order to provide a concise discussion of embodiments of the present inventions.
<br/><br/> Reference in the specification to "one embodiment" or "an embodiment" means that a particular feature, structure, or characteristic described in conjunction with the embodiment can be included in at least one embodiment of the invention.  The
appearances of the phrase "in one embodiment" in various places in the specification do not necessarily all refer to the same embodiment.  The processes depicted in the figures that follow are performed by processing logic that comprises hardware (e.g.
circuitry, dedicated logic, etc.), software, or a combination of both.  Although the processes are described below in terms of some sequential operations, it should be appreciated that some of the operations described may be performed in a different
order.  Moreover, some operations may be performed in parallel rather than sequentially.
<br/><br/> According to some embodiments, a key/value pair is used to represent a particular service advertised by a wireless computing device such as a Bluetooth device or other type of wireless device.  When a wireless device has one or more services to
be advertised in a wireless network, for each service to be advertised, one or more key/value pairs are generated.  A key/value pair may be generated based on DNS information associated with the respective service.  The key is used to indicate whether
the wireless device is potentially capable of providing a particular service (e.g., a game) and the value includes further detailed information regarding the service to be provided.  All the key/value pairs are hashed using a hash function (e.g., SHA-1
or MD5) to generate a bitmask.  Each bit of the bitmask having a predetermined logical value (e.g., logical value of TRUE) indicates that the corresponding service is supported by the wireless device.  In this situation, a wireless device that advertises
one or more services acts as a server that provides the advertised services to one or more other wireless devices which are referred to as client devices.  Note that a wireless device could be both a server device and a client device, dependent upon
certain circumstances.
<br/><br/> When another wireless device, as a client device, searches for a particular service in the network, a key is generated based on an identifier of the service being searched, such as, for example, domain name system (DNS) information associated
with the service.  In addition, a bitmask is generated from the key, for example, by hashing the key.  An inquiry message (e.g., an extended inquiry or EI message) is then broadcast in the network by the client device.  The inquiry message is received by
all other wireless devices in a communications range.
<br/><br/> In response to the inquiry, each server device that has a capability of providing services to others can respond to the inquiry by returning a bitmask representing services that are supported by the respective device as set forth above.  When
the client device receives the bitmasks from the server devices, for each bitmask received, the client device performs a predetermined operation (e.g., a logical AND operation) on the locally generated bitmask representing the service being searched and
the bitmask received from a remote server device.  The result of the operation is used to indicate that whether a particular server device potentially supports the service being searched.
<br/><br/> If the result indicates that a server device may potentially provide the service being searched, the client device can then establish a connection (e.g., SDP connection) with the associated server device and send a request for more detailed
information about the service.  In return, the key/value pair corresponding to the service is received from the server device.  As a result, the above protocol can quickly identify which of the server devices responding to the inquiry support the service
being searched, before establishing a connection to obtain the detailed information of the service (e.g., key/value pair) from the server devices, which may take a relatively long time.
<br/><br/> According to one embodiment, a key/value pair is generated based on DNS information associated with the service being searched and/or advertised.  For example, a name field and type field of a resource record (RR) in a DNS packet (e.g., DNS
query packet) may be used to generate the key of a key/value pair, while a data field (e.g., RData field) of the DNS packet may be used to generate the value of the key/value pair.  A DNS packet may include multiple RRs.  In one embodiment, a name field
of an RR may include a compression pointer (CP) pointing to a character string previously appeared in another RR or Question of the DNS packet without duplicating the entire character string in the name field.  Similarly, the data field (e.g., RData
field) may also include a compression pointer pointing to a string that appears in another RR or Question, or alternatively in the name field of the current RR without duplicating the entire string.  Thus, the value of a key/value pair may include a
pointer pointing to the key of the key/value pair while the key of the key/value pair includes a pointer pointing to another RR or Question of the DNS packet.  As a result, a size of a key/value pair can be further reduced for the purpose of service
discovery.
<br/><br/> FIG. 1 is a block diagram illustrating a network configuration of a wireless environment according to one embodiment.  For example, network configuration 100 may be Bluetooth wireless environment or a WiFi wireless environment or other wireless
environments.  Referring to FIG. 1, network configuration 100 includes a first computing device 101 and a second computing device 102 communicatively coupled to each other over a network 103, which can be a variety of wireless networks such as a
Bluetooth compatible network or a WiFi compatible network.  For the purpose of illustrating, throughout this application, Bluetooth compatible network and device may be used as examples of a wireless network and device.  However, it is not so limited;
other types of wireless networks and devices may also be applied herein.
<br/><br/> Devices 101-102 may be any kinds of wireless communications or computing devices.  Devices 101-102 may be mobile phone devices, messaging devices, personal digital assistants (PDAs), notebook or laptop computers, mobile data terminals, gaming
devices having a wireless communication interface, media players (e.g., audio and/or video players), etc. For example, devices 101-102 may be an iPhone.TM.  or iPod.TM.  device available from Apple Inc.  of Cupertino, Calif.  or other consumer electronic
device.
<br/><br/> In one embodiment, device 102 includes a processing protocol stack having multiple processing layers including, but is not limited to, a service discovery layer or unit 104, a wireless layer or unit 105.  For example, service discovery layer 104
may be Bonjour compatible processing or protocol layer and the wireless layer 105 may be a Bluetooth compatible processing or protocol layer.  While the description has, by way of example, referred to radios operating under a Bluetooth compliant or
compatible communication system, it will be understood that other wireless communication systems can be used such as, for example, WiFi complaint or compatible communication systems (e.g. radios operating compatibly with one of the IEEE 802.11 standards
such as the IEEE 802.11n standard), WiMax compliant or compatible communication systems, radios operating according to a cellular telephony standard, etc. In addition, device 102 includes storage 106 for storing data and a wireless communications
interface 107 for communicating with another device such as device 101.  The storage 106 may be a non-volatile memory such as a disk, a volatile memory such as a random access memory (RAM), or a combination thereof.
<br/><br/> In one embodiment, service discovery layer 104 includes, but is not limited to, a service advertisement unit 108, a service mask generator 109, and a key/value pair generator 110.  Service advertisement unit 108 is used to advertise one or more
services such as applications or services 111 that device 102 can provide, where device 102 acts as a server device (e.g., service provider).  When one or more services are advertised, key/value pair generator 110 is invoked to generate a key and a
value, where the key/value pair is used to represent a particular service.  The key is used to indicate whether the wireless device potentially supports a particular service (e.g., a game) and the value includes further detailed information regarding the
service to be provided, which may be used to determine whether the device actually supports the particular service.  The key/value pairs are then stored in storage 106 as key/value pairs 112.
<br/><br/> In addition, all the key/value pairs that represent all services advertised by device 102 are used to generate a bitmask by service mask generator 109.  In one embodiment, the key/value pairs are hashed using a hash function (e.g., SHA-1 or MD5,
etc.) to generate a bitmask, which is stored in storage 106 as service mask 113.  Each bit of the bitmask having a predetermined logical value (e.g., logical value of TRUE or ONE) indicates that the corresponding service is supported by device 102.  In
this situation, device 102 that advertises one or more services acts as a server device serving the advertised services to one or more other wireless devices (e.g., device 101) which are referred to as client devices.  Note that a wireless device could
be both a server device and a client device, dependent upon certain circumstances.
<br/><br/> Similarly, according to one embodiment, device 101 includes a processing protocol stack including, but is not limited to, a service discovery layer or unit 114 and a wireless layer or unit 115.  Service discovery layer 114 may be a Bonjour
compatible processing or protocol layer and wireless layer 115 may be a Bluetooth compatible processing or protocol layer.  While the description has, by way of example, referred to radios operating under a Bluetooth compliant or compatible communication
system, it will be understood that other wireless communication systems can be used such as, for example, WiFi complaint or compatible communication systems (e.g. radios operating compatibly with one of the IEEE 802.11 standards such as the IEEE 802.11n
standard), WiMax compliant or compatible communication systems, radios operating according to a cellular telephony standard, etc. In one embodiment, service discovery layer 114 includes a DNS processing unit 118 and a key generator 119.
<br/><br/> When application 117, such as a browser application, searches for a particular service in the network, a DNS packet (e.g., DNS query packet) is generated by DNS processing unit 118.  In addition, key generator 119 generates a key based on the
DNS packet.  The wireless layer 115 generates a bitmask based on the key, for example, by performing a hash operation on the key using a variety of hash functions (e.g., SHA-1 or MD5, etc.) and stores the key and the bitmask in a local memory (not shown)
of device 101.  Wireless layer 115 then broadcasts an inquiry message (e.g., an extended inquiry or EI message) in the network, via wireless interface logic or circuit 116.  The inquiry message is received by all other wireless device in a communications
range, including device 102.
<br/><br/> In response to the inquiry, each server device that is potentially capable of providing services to others can respond to the inquiry by returning a bitmask representing services that are supported by the respective device.  In this example, the
inquiry message is received by device 102.  In response to the inquiry message, wireless layer 105 is configured to retrieve a service bitmask 113 from storage 106 and returns data representing service bitmask 113 to device 101 via wireless interface
logic or circuit 107.
<br/><br/> When device 101 receives the bitmask from device 102, wireless layer 115 compares the bitmask received from device 102 with the one stored in the local memory to determine whether there is any corresponding bits in both bitmasks having an
identical logical value, which indicates that an associated service is supported by device 102.  For example, wireless layer 115 may perform a logical AND operation between two bitmasks.
<br/><br/> If the result indicates that the service being searched by application 117 is potentially supported by device 102, wireless layer 115 may then establish a session connection (e.g., session description protocol or SDP connection) with device 102
and send a request for more detailed information about the service.  In one embodiment, device 101 may request for all key/value pairs supported by the bitmask from device 102, including the key/value pair corresponding to the service being searched. 
The wireless processing unit 115 may "walk through" all the key/value pairs received from device 102.  For example, for each key/value pair, the wireless processing unit 115 may compare or match a key of each key/value pair with the one stored locally
corresponding to the service being searched to identify the key/value pair corresponding to the service being searched.
<br/><br/> Once the key/value pair corresponding to the service being searched is received and identified, wireless layer 115 passes such a key/value pair to service discovery layer 118.  Service discovery layer 118 evaluates the key/value pair and informs
application 117 whether the service being searched is actually supported by device 102.  As a result, the above protocol can quickly identify which of the server devices responding to the inquiry potentially support the service being searched, before
establishing a connection to obtain the detailed information of the service from the server devices to determine whether the server devices actually support the service being searched, which may take a relatively long time.
<br/><br/> Note that as described above, the architectures of devices 101-102 may be similar or identical.  Dependent upon a specific circumstance, devices 101-102 may operate as a client device and/or a server device.  Thus, certain functional units may
perform some operations that are similar or identical when a device is operating as a client device, a server device, or both a client and server devices.  For example, service discovery layer 114 may be implemented similar to the service discovery layer
104, while wireless layer 115 may be implemented similar to wireless layer 105.  Although not shown, service discovery layer 114 may include other functional units similar to service advertisement unit 108, service mask generator 109, and/or key/value
pair generator 110, etc. Likewise, service discovery layer 104 may include other functional units similar to DNS processing unit 118 and/or key generator 119, etc. For example, the key generated by service discovery unit 114 may be similar or identical
to the key generated by service discovery unit 104 for the same service.  Note that some or all of the components of devices 101-102 of FIG. 1 may be implemented in software, hardware, or a combination of both.
<br/><br/> FIG. 2 is a transactional diagram illustrating transactions between two peer-to-peer networking devices according to one embodiment of the invention.  Referring to FIG. 2, for example, device 210 may be implemented as part of device 101 of FIG.
1 and device 220 may be implemented as part of device 102 of FIG. 1.  When an application (e.g., browser) of device 210 searches for a service (e.g., game), a key and a bitmask are generated based on DNS information associated with the service.  At
transaction 201, an inquiry (e.g., EI message) is broadcast in the network and in this example, received by device 220.  In return, during transaction 202, device 202 transmits a service bitmask having one or more bits with a predetermined logical value
indicating one or more services that device 220 can provide.  Device 210 examines the service bitmask received from device 220 in view of the bitmask for the service being searched to quickly identify whether the searched service is potentially supported
by device 220.
<br/><br/> If it is determined that the service being searched is supported by device 220, at transaction 203, device 210 sends a request to establish a session connection (e.g., SDP connection), and at transaction 204, device 220 acknowledges the request
to complete the establishment of the session connection.
<br/><br/> Once the connection has been established, during transaction 205, device 210 requests for one or more key/value pairs from device 220, and receives such key/value pairs from device 220 during transaction 206.  Note that, device 220 may have
multiple services that corresponding to the same bit of the bitmask.  Based on the bitmask, device 210 can only determine that device 220 "may be" or "potentially" capable of providing the service being searched.  The techniques described throughout this
application allow a device to quickly determine whether a peer device "may be" or "potentially" capable of providing a particular service without having to establish a connection with the peer device, which may take a relatively long time.  Only when it
is determined that the peer device may potentially provide the particular service, a session connection is then established to obtain further detailed information of the services provided by the peer device to determine whether the peer device "actually"
can provide such a service.  As a result, by using a bitmask and key/value pair, certain peer devices that are not capable of providing a particular service can be quickly eliminated.
<br/><br/> FIG. 3 is a flow diagram illustrating a method for advertising a service of a computing device according to one embodiment.  Note that method 300 may be performed by processing logic which may include software, hardware, or a combination of
both.  For example, method 300 may be performed by device 220 of FIG. 2 or alternatively, by service discovery layer 104 and/or wireless layer 105 of device 102 in FIG. 1.  Referring to FIG. 3, at block 301, a request for advertising a service such as a
gaming application is received.  In response to the request, at block 302, a key/value pair is generated for the service to be advertised.  The key/value pair is generated based on DNS information associated with the service being advertised.
<br/><br/> At block 303, the key/value is stored in a local storage and a bitmask is generated based on the key, for example, via a hash operation.  The bitmask includes a single bit at a certain bit location corresponding to the key to indicate that the
service is supported by the local computing device.  Such a bitmask is also referred to as a service bitmask.  If multiple services are supported by the device, there may be multiple bits in the bitmask that have a predetermined logical value (e.g.,
logical value of TRUE), each indicating a particular service supported by the device.  Subsequently, at block 304, an inquiry (e.g., EI inquiry) is received from a remote device inquiring one or more services.  In response, at block 305, the service
bitmask is returned to the remote device, which is used by the remote device to determine whether a particular service is supported by the local device.
<br/><br/> FIG. 4 is a flow diagram illustrating a method for discovering a service provided by a peer device according to one embodiment.  Note that method 400 may be performed by processing logic which may include software, hardware, or a combination of
both.  For example, method 400 may be performed by device 210 of FIG. 2 or alternatively, by service discovery layer 114 and/or wireless layer 115 of device 101 in FIG. 1.  Referring to FIG. 4, at block 401, a request is received for searching a service
(e.g., game) from an application such as a browser.  In response to the request, a DNS packet (e.g., DNS query packet) is created, where the DNS packet includes certain information (e.g., name) identifying the service being searched.  At block 402, a key
is generated based on the DNS packet.  In addition, at block 403, a bitmask is generated based on the key.  For example, the bitmask is generated by performing a hash operation on the key, which may generate a single bit bitmask that has a predetermined
logical value (e.g., logical value of TRUE).
<br/><br/> At block 404, an inquiry (e.g., EI message) is broadcast in a network searching for the service that may be available from one or more peer devices in the network.  At block 405, each peer device in the network that receives the inquiry may
respond with a service bitmask representing what service or services that each peer device can provide.  At block 406, for each bitmask received, a logical operation (e.g., logical AND operation) is performed between the bitmask received from a remote
peer device and the bitmask generated locally.  The result of the logical operation is used to determine whether the service being searched is available from a particular peer device.
<br/><br/> For example, if the locally generated bitmask is 0x04 (e.g., bit 2 has a logical value of TRUE) while the bitmask received from a remote peer device is 0x07 (e.g., bits 0-2 have logical value of TRUE), a logical AND operation between two
bitmasks yields a result of 0x04.  Here, a non-zero value at bit 2 of the result indicates that the service being searched may be supported by the remote peer device.  Note that, a peer device may have multiple services that corresponding to the same bit
of the bitmask.  At this moment, the client device can only determine, based on the bitmask, that the remote device "may be" capable of providing the service being searched.  In order to determine for sure that the remote device can provide the service
being searched, the local device has to establish a connection with the remote device to obtain apropos key/value pairs and to examine them in order to determine whether the peer device "actually" supports the service being searched, which may take a
longer time.  However, by using a bitmask, a local device can quickly eliminate those peer devices that cannot provide the service being searched and focus on those devices that can.  As a result, the efficiency for searching a service can be greatly
improved.
<br/><br/> According to one embodiment, a key/value pair is generated based on DNS information associated with the service being searched and/or advertised.  For example, a name field and type field of a resource record (RR) in a DNS packet may be used to
generate the key of a key/value pair, while a data field (e.g., RData field) of the RR may be used to generate the value of the key/value pair.  In one embodiment, a name field of an RR may include a pointer such as a compression pointer (CP) pointing to
a character string previously appeared in another RR or Question of the DNS packet without duplicating the entire character string in the name field.  Similarly, the data field (e.g., RData field) may also include a compression pointer pointing to a
string that appears in another RR or Question, or alternatively in the name field of the current RR without duplicating the entire string.  Thus, the value of a key/value pair includes a pointer pointing to the key of the key/value pair while the key of
the key/value pair includes a pointer pointing to another RR.  As a result, a size of a key/value pair can be further reduced for the purpose of service discovery.
<br/><br/> FIG. 5A is a block diagram illustrating a typical uncompressed DNS packet.  As shown in FIG. 5A, DNS packet 500 is an uncompressed DNS packet having multiple Questions and RRs such as Question 501 and RR 502.  Question 501 may include certain
standard fields of a DNS question including name 503, as well as other fields such as type and class fields (not shown).  Similarly, RR 502 includes name 504 and data field 505, as well as other fields (e.g., type, class).
<br/><br/> Typically, there are one or more domain names that may appear in multiple fields.  In this example, strings of "_tcp" and "local" appear in both name fields 503 and 504, and maybe in some other fields (not shown).  Such a duplication of strings
may cause a DNS packet to be unnecessarily large.
<br/><br/> In order to reduce the size of a DNS packet, a compression pointer (CP) is used to replace a subsequent appeared string by referencing a previous appearance of the string without reciting the entire string in the field, as shown in FIG. 5B. 
Referring to FIG. 5B, instead of reciting the entire strings of "_tcp" and "local" in name field 504 of RR 502, compression pointer &lt;ptr0&gt; is used to reference to the same strings previously appeared in name field 503 of Question 501.  For example,
the pointer &lt;ptr0&gt; represents an offset from the beginning of the DNS packet to the bytes that encode the domain name "[4]_tcp[5]local[0]".  As a result, instead of using 21 bytes to encode "[8]_example[4]_tcp[5]local[0]" only 11 bytes are used
herein.
<br/><br/> Similarly, RData field 505 may also use a pointer &lt;ptr1&gt; to reference to a string previously appeared in the DNS packet without having to repeat the entire string.  For example, it is assumed that RData field 505 terminates in a string
"[8]_example[4]_tcp[5]local[0]".  Such a string can be replaced with a pointer &lt;ptr1&gt; pointing to the name field 504 that includes pointer &lt;ptr0&gt; referenced to name field 503.
<br/><br/> According to one embodiment, a key 506 is comprised of a name field 508 and type field 509 generated from a question or resource record of the DNS packet, in this example, resource record 502.  The name field 508 includes a pointer referenced to
a string previously appeared in the DNS packet without reciting the entire string, as shown in FIG. 5C.  Note that it is assumed that the DNS class used in the DNS packet is "IN" referring to the Internet class (the only DNS class in widespread use). 
The 2-byte DNS class in the DNS packet is replaced in Key 506 by a version identifier 510 identifying how the compression is performed on the domain name in name field 508.  For example, the version identifier 510 indicates which in-memory DNS packet
(also referred to as a compression dictionary) was used to create this key, such that the receiver of the key can decompress the key back into a full DNS name.  Note that key 506 is described for the purpose of illustration only; other formats may also
be applied.  Further, the value 507 of a key/value pair is generated from a record data field (in this example, RData field 505) of the record having a pointer pointing to the name field of the resource record.  That is, the value of a key/value pair
includes a pointer referenced to the key of the key/value pair, and the key itself includes a pointer pointing to another domain name (e.g., name field 503) that is before the information used for the key in the DNS packet.  This makes the size of a
key/value pair even smaller.
<br/><br/> FIG. 6 is a flow diagram illustrating a method for generating a key/value pair used in a service discovery procedure according to one embodiment.  Note that method 600 may be performed by processing logic which may include software, hardware, or
a combination of both.  For example, method 600 may be performed by a service discovery layer and/or wireless layer of devices 101-102 of FIG. 1.  Referring to FIG. 6, at block 601, DNS information is received for inquiring a service or advertising a
service, where the DNS information includes one or more questions or resource records.  At block 602, an in-memory DNS packet is created based on the DNS information.  In the in-memory DNS packet, a subsequent appearance of a character string is replaced
by a pointer referenced to a previous appearance of the string without repeating the entire character string.  For example, the pointer represents an offset from the beginning of the DNS packet to the bytes that encode the character string.  At block
603, the name, type, and data field of a record are extracted from the in-memory DNS packet.  At block 604, a key is generated based on the extracted name and type, including a pointer referenced to a string previously appeared in the DNS packet without
reciting the entire string.  At block 605, a value is generated based on the extracted data field of the DNS packet, including a pointer referencing to data in the key or a previous domain name without reciting the entire data.  At block 606, the key and
value are used to search or advertise a service.
<br/><br/> FIG. 7 is a block diagram of a data processing system, which may be used with one embodiment of the invention.  For example, the system 900 may represent any computing device such as devices 101-102 of FIG. 1.  Note that while FIG. 7 illustrates
various components of a computer system, it is not intended to represent any particular architecture or manner of interconnecting the components; as such details are not germane to the present invention.  It will also be appreciated that network
computers, handheld computers, cell phones and other data processing systems which have fewer components or perhaps more components may also be used with the present invention.  The computer system of FIG. 7 may, for example, be an Apple Macintosh
computer or MacBook, or an IBM compatible PC.
<br/><br/> As shown in FIG. 7, the computer system 900, which is a form of a data processing system, includes a bus or interconnect 902 which is coupled to one or more microprocessors 903 and a ROM 907, a volatile RAM 905, and a non-volatile memory 906. 
The microprocessor 903 is coupled to cache memory 904.  The bus 902 interconnects these various components together and also interconnects these components 903, 907, 905, and 906 to a display controller and display device 908, as well as to input/output
(I/O) devices 910, which may be mice, keyboards, modems, network interfaces, printers, and other devices which are well-known in the art.
<br/><br/> Typically, the input/output devices 910 are coupled to the system through input/output controllers 909.  The volatile RAM 905 is typically implemented as dynamic RAM (DRAM) which requires power continuously in order to refresh or maintain the
data in the memory.  The non-volatile memory 906 is typically a magnetic hard drive, a magnetic optical drive, an optical drive, or a DVD RAM or other type of memory system which maintains data even after power is removed from the system.  Typically, the
non-volatile memory will also be a random access memory, although this is not required.
<br/><br/> While FIG. 7 shows that the non-volatile memory is a local device coupled directly to the rest of the components in the data processing system, the present invention may utilize a non-volatile memory which is remote from the system; such as, a
network storage device which is coupled to the data processing system through a network interface such as a modem or Ethernet interface.  The bus 902 may include one or more buses connected to each other through various bridges, controllers, and/or
adapters, as is well-known in the art.  In one embodiment, the I/O controller 909 includes a USB (Universal Serial Bus) adapter for controlling USB peripherals.  Alternatively, I/O controller 909 may include a wireless adapter such as a Bluetooth
adapter, or a WiFi interface or an IEEE-1394 adapter, also known as FireWire adapter, for controlling FireWire devices.
<br/><br/> Some portions of the preceding detailed descriptions have been presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory.  These algorithmic descriptions and representations are the ways
used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art.  An algorithm is here, and generally, conceived to be a self-consistent sequence of operations leading to a desired
result.  The operations are those requiring physical manipulations of physical quantities.  Usually, though not necessarily, these quantities take the form of electrical or magnetic signals capable of being stored, transferred, combined, compared, and
otherwise manipulated.  It has proven convenient at times, principally for reasons of common usage, to refer to these signals as bits, values, elements, symbols, characters, terms, numbers, or the like.
<br/><br/> It should be borne in mind, however, that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities.  Unless specifically stated otherwise as
apparent from the above discussion, it is appreciated that throughout the description, discussions utilizing terms such as "processing" or "computing" or "calculating" or "determining" or "displaying" or the like, refer to the action and processes of a
computer system, or similar electronic computing device, that manipulates and transforms data represented as physical (electronic) quantities within the computer system's registers and memories into other data similarly represented as physical quantities
within the computer system memories or registers or other such information storage, transmission or display devices.
<br/><br/> Embodiments of the present invention also relate to an apparatus for performing the operations herein.  This apparatus may be specially constructed for the required purposes, or it may comprise a general-purpose computer selectively activated or
reconfigured by a computer program stored in the computer.  Such a computer program may be stored in a computer readable medium.  A machine-readable medium includes any mechanism for storing information in a form readable by a machine (e.g., a computer). For example, a machine-readable (e.g., computer-readable) medium includes a machine (e.g., a computer) readable storage medium (e.g., read only memory ("ROM"), random access memory ("RAM"), magnetic disk storage media, optical storage media, flash memory
devices, etc.), etc.
<br/><br/> The algorithms and displays presented herein are not inherently related to any particular computer or other apparatus.  Various general-purpose systems may be used with programs in accordance with the teachings herein, or it may prove convenient
to construct more specialized apparatus to perform the required method operations.  The required structure for a variety of these systems will appear from the description above.  In addition, embodiments of the present invention are not described with
reference to any particular programming language.  It will be appreciated that a variety of programming languages may be used to implement the teachings of embodiments of the invention as described herein.
<br/><br/> In the foregoing specification, embodiments of the invention have been described with reference to specific exemplary embodiments thereof.  It will be evident that various modifications may be made thereto without departing from the broader
spirit and scope of the invention as set forth in the following claims.  The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense.
<br/><br/><center><b>* * * * *</b></center>
<hr/>
   <center>
   <a href="http://pdfpiw.uspto.gov/.piw?Docid=09344339&amp;homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D523%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3Dfacebook%2526p%3D11%2526OS%3Dfacebook%2526RS%3Dfacebook&amp;PageNum=&amp;Rtype=&amp;SectionNum=&amp;idkey=NONE&amp;Input=View+first+page"><img alt="[Image]" border="0" src="/netaicon/PTO/image.gif" valign="middle"/></a>
   <table>
   <tbody><tr><td align="center"><a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D523%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D11%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209344339"><img alt="[View Shopping Cart]" border="0" src="/netaicon/PTO/cart.gif" valign="middle"/></a>
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=9344339&amp;backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D523%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D11%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209344339">
   <img alt="[Add to Shopping Cart]" border="0" src="/netaicon/PTO/order.gif" valign="middle"/></a>
   </td></tr>
   <tr><td align="center">
     <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=10&amp;Query=facebook"><img alt="[PREV_LIST]" border="0" src="/netaicon/PTO/prevlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;Query=facebook"><img alt="[HIT_LIST]" border="0" src="/netaicon/PTO/hitlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=523&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=12&amp;Query=facebook"><img alt="[NEXT_LIST]" border="0" src="/netaicon/PTO/nextlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=522&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;OS=facebook"><img alt="[PREV_DOC]" border="0" src="/netaicon/PTO/prevdoc.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=524&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=11&amp;OS=facebook"><img alt="[NEXT_DOC]" border="0" src="/netaicon/PTO/nextdoc.gif" valign="MIDDLE"/></a>

   <a href="#top"><img alt="[Top]" border="0" src="/netaicon/PTO/top.gif" valign="middle"/></a>
   </td></tr>
   </tbody></table>
   <a name="bottom"></a>
   <a href="/netahtml/PTO/index.html"><img alt="[Home]" border="0" src="/netaicon/PTO/home.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/search-bool.html"><img alt="[Boolean Search]" border="0" src="/netaicon/PTO/boolean.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/search-adv.htm"><img alt="[Manual Search]" border="0" src="/netaicon/PTO/manual.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/srchnum.htm"><img alt="[Number Search]" border="0" src="/netaicon/PTO/number.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/help/help.htm"><img alt="[Help]" border="0" src="/netaicon/PTO/help.gif" valign="middle"/></a>
   </center>

</coma></coma></body></html>