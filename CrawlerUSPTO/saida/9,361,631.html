<html><head>
<base target="_top"/>
<title>United States Patent: 9361631</title></head>
<!---BUF1=9361631
BUF7=2016
BUF8=110648
BUF9=/1/
BUF51=9
---->
<body bgcolor="#FFFFFF">
<a name="top"></a>
<center>
<img alt="[US Patent &amp; Trademark Office, Patent Full Text and Image Database]" src="/netaicon/PTO/patfthdr.gif"/>
<br/>
<table>
<tbody><tr><td align="center">
<a href="/netahtml/PTO/index.html"><img alt="[Home]" border="0" src="/netaicon/PTO/home.gif" valign="middle"/></a>
<a href="/netahtml/PTO/search-bool.html"><img alt="[Boolean Search]" border="0" src="/netaicon/PTO/boolean.gif" valign="middle"/></a>
<a href="/netahtml/PTO/search-adv.htm"><img alt="[Manual Search]" border="0" src="/netaicon/PTO/manual.gif" valign="middle"/></a>
<a href="/netahtml/PTO/srchnum.htm"><img alt="[Number Search]" border="0" src="/netaicon/PTO/number.gif" valign="middle"/></a>
<a href="/netahtml/PTO/help/help.htm"><img alt="[Help]" border="0" src="/netaicon/PTO/help.gif" valign="middle"/></a>
</td></tr>
<tr><td align="center">
   <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=7&amp;Query=facebook"><img alt="[PREV_LIST]" border="0" src="/netaicon/PTO/prevlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;Query=facebook"><img alt="[HIT_LIST]" border="0" src="/netaicon/PTO/hitlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=9&amp;Query=facebook"><img alt="[NEXT_LIST]" border="0" src="/netaicon/PTO/nextlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=355&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;OS=facebook"><img alt="[PREV_DOC]" border="0" src="/netaicon/PTO/prevdoc.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=357&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;OS=facebook"><img alt="[NEXT_DOC]" border="0" src="/netaicon/PTO/nextdoc.gif" valign="MIDDLE"/></a>

<a href="#bottom"><img alt="[Bottom]" border="0" src="/netaicon/PTO/bottom.gif" valign="middle"/></a>
</td></tr>
   <tr><td align="center">
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D356%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D8%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209361631"><img alt="[
View Shopping Cart]" border="0" src="/netaicon/PTO/cart.gif" valign="middle"/></a>
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=9361631&amp;backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D356%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D8%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209361631">
   <img alt="[Add to Shopping Cart]" border="0" src="/netaicon/PTO/order.gif" valign="middle"/></a>
   </td></tr>
   <tr><td align="center">
   <a href="http://pdfpiw.uspto.gov/.piw?Docid=09361631&amp;homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D356%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3Dfacebook%2526p%3D8%2526OS%3Dfacebook%2526RS%3Dfacebook&amp;PageNum=&amp;Rtype=&amp;SectionNum=&amp;idkey=NONE&amp;Input=View+first+page"><img alt="[Image]" border="0" src="/netaicon/PTO/image.gif" valign="middle"/></a>

   </td></tr>
</tbody></table>
</center>
<table width="100%">
<tbody><tr><td align="left" width="50%"> </td>
<td align="right" valign="bottom" width="50%"><font size="-1">( <strong>356</strong></font> <font size="-2">of</font> <strong><font size="-1">7895</font></strong> <font size="-1">)</font></td></tr></tbody></table>
<hr/>
   <table width="100%">
   <tbody><tr>	<td align="left" width="50%"><b>United States Patent </b></td>
   <td align="right" width="50%"><b>9,361,631</b></td>
   </tr>
     <tr><td align="left" width="50%"><b>
         Meyer
,   et al.</b>
     </td>
     <td align="right" width="50%"> <b>
     June 7, 2016
</b></td>
     </tr>
     </tbody></table>
       <hr/>
       <font size="+1">Managing and monitoring digital advertising
</font><br/>
       <br/><center><b>Abstract</b></center>
       <p> A computerized system and techniques facilitate the monitoring and
     management of online behaviorally-targeted advertising. In certain
     embodiments, electronic notifications related to advertising practices of
     members of an online advertising ecosystem are presented to users based
     on the discovery of elements of online content aimed at delivering
     targeted advertising messages to viewers of the content.
</p>
       <hr/>
<table width="100%"> <tbody><tr> <th align="left" scope="row" valign="top" width="10%">Inventors:</th> <td align="left" width="90%">
 <b>Meyer; Scott B.</b> (Mount Kisco, NY)<b>, Shnir; Felix</b> (Brooklyn, NY)<b>, Simeonov; Simeon</b> (Lincoln, MA)<b>, Kozek; Edward</b> (New York, NY)<b>, O'Malley; Colin</b> (San Francisco, CA)<b>, Jaye; Daniel</b> (Celebration, FL) </td> </tr>
<tr><th align="left" scope="row" valign="top" width="10%">Applicant: </th><td align="left" width="90%"> <table> <tbody><tr> <th align="center" scope="column">Name</th> <th align="center" scope="column">City</th> <th align="center" scope="column">State</th> <th align="center" scope="column">Country</th> <th align="center" scope="column">Type</th> </tr> <tr> <td> <b><br/>Meyer; Scott B.
<br/>Shnir; Felix
<br/>Simeonov; Simeon
<br/>Kozek; Edward
<br/>O'Malley; Colin
<br/>Jaye; Daniel</b> </td><td> <br/>Mount Kisco
<br/>Brooklyn
<br/>Lincoln
<br/>New York
<br/>San Francisco
<br/>Celebration </td><td align="center"> <br/>NY
<br/>NY
<br/>MA
<br/>NY
<br/>CA
<br/>FL </td><td align="center"> <br/>US
<br/>US
<br/>US
<br/>US
<br/>US
<br/>US </td> <td align="left"> </td> </tr> </tbody></table>
<!-- AANM>
~AANM Meyer; Scott B.
~AACI Mount Kisco
~AAST NY
~AACO US
~AANM Shnir; Felix
~AACI Brooklyn
~AAST NY
~AACO US
~AANM Simeonov; Simeon
~AACI Lincoln
~AAST MA
~AACO US
~AANM Kozek; Edward
~AACI New York
~AAST NY
~AACO US
~AANM O'Malley; Colin
~AACI San Francisco
~AAST CA
~AACO US
~AANM Jaye; Daniel
~AACI Celebration
~AAST FL
~AACO US
</AANM -->
</td></tr>
<tr> <th align="left" scope="row" valign="top" width="10%">Assignee:</th>
<td align="left" width="90%">

<b>Ghostery, Inc.</b>
 (New York, 
NY)
<br/>

</td>
</tr>
       <tr><th align="left" nowrap="" scope="row" valign="top" width="10%">Family ID:
       </th><td align="left" width="90%">
       <b>44259253
</b></td></tr>
       <tr><th align="left" nowrap="" scope="row" valign="top" width="10%">Appl. No.:
       </th><td align="left" width="90%">
       <b>12/971,588</b></td></tr>
       <tr><th align="left" scope="row" valign="top" width="10%">Filed:
       </th><td align="left" width="90%">
       <b>December 17, 2010</b></td></tr>
     </tbody></table>
<hr/> <center><b>Prior Publication Data</b></center> <hr/> <table width="100%"> <tbody><tr><th scope="col"></th><th scope="col"></th><td></td></tr> <tr><td align="left">
</td><th align="center" scope="col"><b><u>Document Identifier</u></b></th><th align="center" scope="col"><b><u>Publication Date</u></b></th></tr><tr><td align="center"> </td><td align="center"> US 20110173071 A1</td><td align="center">Jul 14, 2011</td></tr><tr><td align="center"> 
</td>
</tr> </tbody></table>
<hr/> <center><b>Related U.S. Patent Documents</b></center> <hr/> <table width="100%"> <tbody><tr><th scope="col" width="7%"></th><th scope="col"></th><th scope="col"></th> <th scope="col"></th><th scope="col"></th><td></td></tr> <tr><td align="left">
</td><th align="center" scope="col"><b><u>Application Number</u></b></th><th align="center" scope="col"><b><u>Filing Date</u></b></th><th align="center" scope="col"><b><u>Patent Number</u></b></th><th align="center" scope="col"><b><u>Issue Date</u></b></th></tr><tr><td align="center"> </td><td align="center">61292642</td><td align="center">Jan 6, 2010</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"> 
</td>
</tr> </tbody></table><td< td=""></td<><td< td=""></td<>     <hr/>
<p> <table width="100%"> <tbody><tr><td align="left" valign="top" width="30%"><b>Current U.S. Class:</b></td> <td align="right" valign="top" width="70%"><b>1/1</b> </td></tr> 
       <tr><td align="left" valign="top" width="30%"><b>Current CPC Class: </b></td>
       <td align="right" valign="top" width="70%">G06Q 30/02 (20130101); G06Q 30/0256 (20130101)</td></tr>
         <tr><td align="left" valign="top" width="30%"><b>Current International Class: </b></td>
         <td align="right" valign="top" width="70%">G06Q 30/00 (20120101); G06Q 30/02 (20120101)</td></tr>
       <tr><td align="left" valign="top" width="30%"><b>Field of Search: </b></td>
       <td align="right" valign="top" width="70%">
       











 ;705/14.54,14.49,14.73,14.4,7,8,10 ;358/1.15,1.18 ;709/224 ;707/213 ;455/414.1
       </td></tr>
     </tbody></table>
</p><hr/><center><b>References Cited  <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2Fsearch-adv.htm&amp;r=0&amp;f=S&amp;l=50&amp;d=PALL&amp;Query=ref/9361631">[Referenced By]</a></b></center>       <hr/>
       <center><b>U.S. Patent Documents</b></center>
<table width="100%"> <tbody><tr><th scope="col" width="33%"></th> <th scope="col" width="33%"></th> <th scope="col" width="34%"></th></tr> <tr> <td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8516601">8516601</a></td><td align="left">
August 2013</td><td align="left">
Goodwin et al.</td></tr><tr><td align="left">
<a href="/netacgi/nph-Parser?Sect2=PTO1&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=1&amp;f=G&amp;l=50&amp;d=PALL&amp;RefSrch=yes&amp;Query=PN%2F8898808">8898808</a></td><td align="left">
November 2014</td><td align="left">
Kittrell</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20080172274&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2008/0172274</a></td><td align="left">
July 2008</td><td align="left">
Hurowitz et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20100030792&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2010/0030792</a></td><td align="left">
February 2010</td><td align="left">
Swinton et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20100299205&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2010/0299205</a></td><td align="left">
November 2010</td><td align="left">
Erdmann et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20120210377&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2012/0210377</a></td><td align="left">
August 2012</td><td align="left">
Wong et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20130160120&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2013/0160120</a></td><td align="left">
June 2013</td><td align="left">
Malaviya et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20130191647&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2013/0191647</a></td><td align="left">
July 2013</td><td align="left">
Ferrara et al.</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20140052851&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2014/0052851</a></td><td align="left">
February 2014</td><td align="left">
Nielsen</td></tr><tr><td align="left">
<a href="http://appft.uspto.gov/netacgi/nph-Parser?TERM1=20150058121&amp;Sect1=PTO1&amp;Sect2=HITOFF&amp;d=PG01&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsrchnum.html&amp;r=0&amp;f=S&amp;l=50" target="_blank">2015/0058121</a></td><td align="left">
February 2015</td><td align="left">
Navin</td></tr><tr><td align="left">

</td>
</tr> </tbody></table>
<table width="90%">   <tbody><tr><td><align="left"><br/>Office Action dated Oct. 8, 2015 from U.S. Appl. No. 13/968,098. cited by applicant
.<br/>International Search Report and Written Opinion dated Apr. 14, 2015 from Application No. PCT/US2014/052117. cited by applicant. </align="left"></td></tr> </tbody></table><br/><center><b>Other References</b></center> <br/>
       <i>Primary Examiner:</i> Li; Sun
<br/>
       <i>Attorney, Agent or Firm:</i> <coma>Cooley LLP
<br/>
       <hr/>
       <center><b><i>Parent Case Text</i></b></center>
       <hr/>
       <br/><br/>CROSS-REFERENCE TO RELATED APPLICATIONS
<br/><br/> This application claims priority to and the benefit of U.S. provisional
     patent application Ser. No. 61/292,642, filed Jan. 6, 2010 entitled
     "Managing and Monitoring Digital Advertising."
         <hr/>
<center><b><i>Claims</i></b></center> <hr/> <br/><br/>What is claimed is: <br/><br/> 1.  A computer system to monitor and control behaviorally targeted digital advertisement included in a web page received on a client device via the Internet, the system
comprising: a central service server comprising a physical memory and a processor, wherein the memory comprises computer-executable instructions and: (i) a plurality of discovery engines, each configured to identify at least one Hypertext Markup Language
(HTML) element of electronic content representing the web page and received on the client device via the Internet, wherein the at least one HTML element is aimed at delivering the targeted advertisement to a user of the client device viewing the web
page;  and (ii) a plurality of computer-executable scripts, wherein upon execution by the processor of the computer-executable instructions in the memory, the central service server deploys, to the client device, at least one of the plurality of
computer-executable scripts that when executed on the client device: generates at least one parameterized HTTP request comprising variables relating to the origin of the targeted advertisement and attributes of at least one entity associated with the
targeted advertisement;  invokes at least one discovery engine of the plurality of discovery engines to identify the targeted advertisement by interrogating the electronic content representing the web page, wherein the at least one discovery engine
identifies the at least one HTML element of the electronic content as having a specific pattern correlated to the at least one entity associated with the targeted advertisement;  and displays to the user, via the client device, a notification indicating
the targeted advertisement in the web page, wherein the notification comprises: a primary notice including at least one of an icon and text arranged proximate to the targeted advertisement;  and a secondary notice appearing upon selection by the user of
the primary notice and comprising information including at least one of: a first name of the at least one entity;  a second name of a delivering ad network;  a third name of at least one intermediate ad network;  and behavioral targeted advertising
practices of the at least one entity.
<br/><br/> 2.  The system of claim 1, wherein the memory of the central service server further comprises a placement engine including a configuration subsystem to customize the notification displayed to the user.
<br/><br/> 3.  The system of claim 1, wherein the memory of the central service server further comprises a placement engine including a delivery subsystem for facilitating designation of visual and placement parameters of the notification.
<br/><br/> 4.  The system of claim 1, further comprising a data storage module storing at least one of: one or more indications of interactions of the user with the notification;  advertising practices of the at least one entity;  and advertising
preferences of the user.
<br/><br/> 5.  The system of claim 4, wherein the one or more indications of the interactions of the user with the notification comprise one or more of: the user selecting the primary notice;  the user viewing the secondary notice;  the user selecting the
secondary notice;  the user changing the advertising preferences;  and the user viewing the advertising practices of the at least one entity.
<br/><br/> 6.  The system of claim 4, wherein the advertising preferences of the user comprise one or more of: opting out of receiving the behaviorally targeted advertisement from the at least one entity;  agreeing to receive the behaviorally targeted
advertisement from the at least one entity;  and specification of personal demographic information of the user.
<br/><br/> 7.  The system of claim 4, further comprising a reporting engine for providing electronic access to data stored in the data storage module.
<br/><br/> 8.  The system of claim 7, wherein the reporting engine implements a web-based portal to provide electronic access to the data stored in the data storage module.
<br/><br/> 9.  The system of claim 1, wherein: upon execution by the processor of the computer-executable instructions in the memory, the central service server provides one or more of the plurality of computer-executable scripts to one or more members of
an online advertising ecosystem;  and at least a first script of the plurality of scripts is embedded into first online content provided by a first member of the online advertising ecosystem.
<br/><br/> 10.  The system of claim 9, wherein the first online content comprises nested IFRAMES and the first script operates within the IFRAMES to identify a top-level domain of the first online content.
<br/><br/> 11.  A computer-implemented method for monitoring and controlling behaviorally targeted digital advertisement included in a web page received on a client device via the Internet, the client device executing at least one
computer-executable-script to perform the method comprising: generating the at least one parameterized HTTP request comprising variables relating to the origin of the targeted advertisement and attributes of at least one entity associated with the
targeted advertisement;  invoking at least one discovery engine to identify at least one Hypertext Markup Language (HTML) element of electronic content representing the web page and received on the client device via the Internet, wherein the at least one
HTML element is aimed at delivering the targeted advertisement to a user of the client device viewing the web page, and wherein the at least one discovery engine identifies the at least one HTML element of the electronic content as having a specific
pattern correlated to the at least one entity associated with the targeted advertisement;  and displaying to the user, via the client device, a notification indicating the targeted advertisement in the web page, wherein displaying the notification
comprises: displaying a primary notice including at least one of an icon and text arranged proximate to the targeted advertisement;  and displaying a secondary notice appearing upon selection by the user of the primary notice and comprising information
including at least one of: a first name of the at least one entity;  a second name of a delivering ad network;  a third name of at least one intermediate ad network;  and behavioral targeted advertising practices of the at least one entity.
<br/><br/> 12.  The method of claim 11, further comprising storing targeted advertising-related data, the targeted advertising-related data comprising at least one of: one or more indications of interactions of the user with the notification;  advertising
practices of the at least one entity;  and advertising preferences of the user.
<br/><br/> 13.  The method of claim 12, wherein the one or more indications of the users' interactions of the user with the notification comprise one or more of: the user selecting the primary notice;  the user viewing the secondary notice;  the user
selecting the secondary notice;  the user changing the advertising preferences;  and the user viewing the advertising practices of the at least one entity.
<br/><br/> 14.  The method of claim 12, wherein the advertising preferences of the user comprise one or more of: opting out of receiving the behaviorally targeted advertisement from the at least one entity;  agreeing to receive the behaviorally targeted
advertisement from the at least one entity;  and specification of personal demographic information of the user.
<br/><br/> 15.  The method of claim 12, further comprising providing electronic access to the targeted advertising-related data. <hr/> <center><b><i>Description</i></b></center> <hr/> <br/><br/>TECHNICAL FIELD
<br/><br/> This invention relates to methods and systems for managing and monitoring digital advertising, and, more particularly, for tracking how advertisers, ad networks, ad delivery systems, content publishers and/or other members of an advertising
ecosystem deliver advertising content to users.
<br/><br/>BACKGROUND
<br/><br/> Digital advertising is an important source of revenue for online content providers, mobile carriers as well as Internet portals such as Google, Yahoo!, MSN, and AOL.  A number of online advertisement formats are currently in use, along with
various associated distribution requirements, advertising metrics, and pricing mechanisms.  In many cases, conventional Hypertext Markup Language (HTML) and Hypertext Transfer Protocol (HTTP) techniques enable the inclusion of an advertisement within a
page such that an advertisement, and often a different ad, can be selected for display each time the page is requested.
<br/><br/> One of the ongoing challenges for advertisers across all media is to deliver the right message to the right person at the right time--i.e., effectively "targeting" advertisements to the audience.  As a simple example, television commercials
aired during sporting events tend to advertise beer, cars, and other products typically associated with young males.  Likewise, online and digital (e.g., web-based, mobile, etc.) advertisers, content providers and ad networks look for ways to target
advertisements to particular users.  For example, an advertisement may be selected based on the content of the page into which it is being inserted and served, such as ads targeted to males ages 18-35 on a football-related website.  Another way online
advertisers provide targeted advertisements is through behavior tracking.  For example, a user who frequently views financial websites and data may be targeted to receive advertisements related to online trading and banking services.  In many cases,
information collected through behavior tracking can be further processed and in some cases augmented with additional data sources to enable other types of targeting of advertisements, such as demographic targeting and/or collaborative filtering.
<br/><br/> In some cases, the targeting may be subtle in that the ads do not appear as typical ads, but instead are manifested as content personalization or product recommendations.
<br/><br/> In order to be most effective, behavioral tracking should be accurate, timely, thorough, and accessible across different domains, carriers and/or websites.  For example, actions taken by a consumer at one website, within a particular domain or
while using a certain service provider are most valuable when combined with actions from other domains.  Furthermore, profiles generated by one domain or carrier should be accessible by another domain.  In order to build and share such profiles, many
websites track user behavior and interactions through the use of small data files that are deposited on the consumer's client (commonly referred to as "cookies") to identify repeat visitors.  Often, advertisers and content providers interject scripts
and/or page elements into websites in order to facilitate tracking user's actions.  However, the collection and use (including, in some cases, sharing) of such behavioral data may implicate security and/or privacy related issues.  In some instances, such
issues may be legal or administrative in nature, whereas in other cases they may relate to personal preferences.
<br/><br/> In response, in the narrow domain of Web-based advertising, the online advertising industry, Federal Trade Commission, and many consumer protection groups have put forth numerous suggestions and guidelines for governing the collection and use of
such data.  Recently, the FTC issued a Staff Report detailing certain "self-regulatory principles" for online behavior-targeted advertising.  Whether these principles are adopted or not, the need to manage and monitor how websites, applications,
advertising networks, broadcast networks, mobile services, content providers and other advertising ecosystem participants identify, track and target consumers will expand significantly.
<br/><br/> As such, there is a need for an independent platform that monitors and reports on compliance to targeted advertising guidelines and practices.
<br/><br/>SUMMARY OF THE INVENTION
<br/><br/> Embodiments of the present invention are directed toward methods and supporting systems for programmatically tracking user's actions on websites and within domains, and for allowing users to view and manage how these actions are captured and
used for targeted advertising.  Further, compliance with targeted advertising guidelines and practices for users, content providers, advertising networks and other online service providers is monitored.  For example, certain notice and disclosure
elements (e.g., a privacy policy, opt-out or opt-in choices) may be present, and users may want to be directed to them in certain situations.  However, discovering and identifying these elements can be difficult, depending on how certain web pages,
mobile sites, and applications are constructed, and how the advertisements are placed and presented within them.  Described in greater detail below are various examples of discovery engines and notice and disclosure techniques that may be used by parties
serving ads and/or collecting data, by publishers, or by third party monitoring service acting on behalf of consumers.
<br/><br/> Therefore, in one aspect of the invention, a computerized system for providing electronic notifications related to advertising practices of one or more members of an online advertising ecosystem includes a collection of discovery engines and
computer-executable scripts.  Each discovery engine is stored on a central service server and configured to execute against an element of electronic content and identify elements of the content aimed at delivering targeted advertising messages to viewers
of the content.  The computer-executable scripts which may also be stored on the central service server and transmitted to a client device.  In some cases, the scripts may be provided to members of an online advertising ecosystem such that the scripts
may be embedded directly into the online content.  When executed, the scripts cause, in response to the discovery of targeted advertising messages in the electronic content by the discovery engines, the presentation of a notification indicating the use
of targeted advertising methods by members of the online advertising ecosystem.  The system also includes a placement engine for facilitating the presentation of the notification to users according to various presentation characteristics.
<br/><br/> In some implementations, the placement engine includes a configuration subsystem for facilitating the selection of the notification to be presented to the viewers of the content, and a delivery subsystem for facilitating designation of visual
and placement parameters of the notification.  The notification may appear as an icon, image, text or some combination of any of the three.  In some cases, the icon may be audible rather than visual.  The notification may, in some cases, include a
primary notice and a secondary notice.  In such cases, the secondary notice is presented upon selection by a user of the primary notice and provides information describing behavioral targeted advertising practices of various members of an online
advertising ecosystem, some of whom were responsible for selecting and providing the targeted advertising messages.
<br/><br/> The system may also include a data storage module for storing indications of users' interactions with the notification, advertising practices of the one or more members of an online advertising ecosystem, and advertising preferences of the
users.  For example, the indications of users' interactions with the notification may include a user selecting a primary notification, a user viewing a secondary notification, a user selecting a secondary notification, a user changing preferences related
to online advertising, and/or a user viewing advertising practices of a member of the advertising ecosystem.  The advertising preferences of the users may include opting out of receiving behaviorally targeted advertisements from members of the
advertising ecosystem, agreeing to receive behaviorally targeted advertisements from members of the advertising ecosystem, and specification of personal demographic information of the users which may be used to select and present targeted advertisements. A reporting engine may be provided to allow users, advertisers, and other members of the advertising ecosystem to query and view such data, in some cases via a web portal pursuant to a subscription agreement or other membership arrangement.
<br/><br/> The online content may comprise web pages, video ads, audio ads, content delivered to mobile devices, email, text messages, etc. In some cases, the online content is structured as nested IFRAMES and the scripts operate within the IFRAMES to
identify a top-level domain of the online content, thereby being able to identify all (or the relevant) members of the advertising ecosystem responsible for delivery of the advertisement and/or content.
<br/><br/> In another aspect, a computer-implemented method for monitoring and managing behaviorally targeted advertising practices in an online environment includes storing, at a centralized monitoring service, discovery engines and computer-executable
scripts.  The discovery engines are to execute against an element of electronic content and identify elements of the content aimed at delivering targeted advertising messages to viewers of the content.  The scripts are configured to be transmitted to a
client device.  The engines are executed against the content to determine the presence of behaviorally-targeted advertisements within the content, and the scripts, when executed cause the presentation of a notification indicating the use of
behaviorally-targeted advertising methods by entities responsible for the delivery of the content.
<br/><br/> In some implementations, the notification appears as an icon and the icon is presented in proximity to a behaviorally-targeted advertisement.  The icon may be an image, text, video or any combination, and may, in some cases, include audio.  The
icon may act as an executable link, that, when selected, causes the presentation of a secondary notice, which presents information describing behavioral targeted advertising practices of members of an online advertising ecosystem that provided the
targeted advertising messages.
<br/><br/> Advertising preference data may be stored in a data storage device (e.g., a database).  The data may include, for example, indications of users' interactions with the notification, advertising practices of the members of an online advertising
ecosystem responsible for delivering the behaviorally-targeted advertisements, and/or preferences of the users with respect to being presented with behaviorally-targeted advertisements.  Indications of users' interactions with the notification may
include a user selecting a primary notification, a user viewing a secondary notification, a user selecting a secondary notification, a user changing preferences related to online advertising, and/or a user viewing advertising practices of a member of the
advertising ecosystem.  The preferences of the users may include opting out of receiving behaviorally targeted advertisements from certain (or all) members of the advertising ecosystem, agreeing to receive behaviorally targeted advertisements some of the
members of the advertising ecosystem, and specification of personal demographic information of the users.  Electronic access to some or all of the stored data may be provided via an online web service, for example. <br/><br/>BRIEF DESCRIPTION OF THE
FIGURES
<br/><br/> In the drawings, like reference characters generally refer to the same parts throughout the different views.  Also, the drawings are not necessarily to scale, emphasis instead generally being placed upon illustrating the principles of the
invention.
<br/><br/> FIG. 1 illustrates one possible arrangement of constituents within a online advertising and content delivery ecosystem.
<br/><br/> FIG. 2 illustrates the ecosystem of FIG. 1 augmented with an online advertising monitoring and reporting system according to various embodiments of the invention.
<br/><br/> FIG. 3 is a flow-chart illustrating, in general, various steps in a process of providing consumers with information related to behavior-based advertising according to various embodiments of the invention.
<br/><br/> FIG. 4 is a screen capture of a web page into which a targeted ad has been injected along with a primary notice in accordance with various embodiments of the invention.
<br/><br/> FIG. 5 is a screen capture of the web page of FIG. 4 showing a secondary notice regarding targeted advertising occurring on the page in accordance with various embodiments of the invention.
<br/><br/> FIG. 6 is a screen capture showing detailed information and preference options regarding targeted advertising occurring on a web page in accordance with various embodiments of the invention.
<br/><br/> FIG. 6A is a screen capture showing user-specific demographic and tracking preferences in accordance with various embodiments of the invention.
<br/><br/> FIG. 7 is a screen capture showing additional detail information about a particular advertising entity in accordance with various embodiments of the invention.
<br/><br/> FIG. 8 illustrates one example of a user web-based report compiled from data collected from user interactions with notice provisions, according to various embodiments of the invention.
<br/><br/> FIG. 9 illustrates a method for fulfilling a request to set a user's opt-out status, according to various embodiments of the invention.
<br/><br/>DESCRIPTION OF THE INVENTION
<br/><br/> Referring to FIG. 1, various entities comprise an online content delivery environment in which environment in which users and consumers 105 (referred to herein as "users") operate various client devices 110 in order to view, download and
generally interact with electronic content provided by content providers 115.  The client devices 110 may be any electronic device configured to send, receive and/or display messages and content using an electronic network 120, such as a desktop
computer, laptop, notebook, tablet computer, smartphone, personal data assistant or navigation system.  For example, in instances in which the client device 110 is a smartphone, the device may be an iPhone or Android-based phone, the network may be a
cellular telephone network or a wireless network.  In cases in which the device is a desktop computer, the network 120 may be a wired Ethernet network connected to the Internet.
<br/><br/> Content providers 115 manage, maintain, develop aggregate and/or collect content that will eventually be delivered to the users 105.  Generally, the content is "pulled" to the user's device--that is it is delivered in response to a request from
a user 105 by, for example, providing a result list in response to a search query or clicking on a HTTP hyperlink on a webpage.  In other instances, the content may be "pushed" to the user by the content provider 115 based on an event (e.g., a news item
matching predefined parameters) or a general email distribution.  In either case, the content provider 115 typically sets aside some portion of the content as advertising space in order to "monetize" her content.  Examples of ads typically seen in
conjunction with content delivery include banner ads (adds at the top of or bottom of a page), "in content" ads (e.g., ads along side of or embedded within the content), linked ads (ads that appear when a user places a mouse or other pointer over a word,
phrase or image) and pop-up ads.
<br/><br/> The ads are generally created by advertisers 130, who provide the ads to ad networks 135 and 135' (generally, 135).  The ad networks 135 act as "middle-men" between the advertisers 130 and the content providers 115.  Such an arrangement allows
advertisers 130 to create the ad and not be burdened with finding ad space in which the ad will run, and allows content providers 125 to allocate space within their content for ads without having to contract with multiple advertisers in order to fill the
space.  As used herein, "ad networks" 135 may refer to any online advertising-related technology system, including those used by ad networks to design and deliver their services, ad servers, demand- and supply-side advertising platforms, data management
platforms, ad exchanges, and ad verification companies, all of whom may have distinct privacy and usage policies that may be of interest to the users receiving ads.  While FIG. 1 is illustrated using one content provider 125, two ad networks 135 and
three advertisers 130, it should be recognized that there may be any number of each entity, and in most implementations there may be thousands of content providers and advertisers and dozens of ad networks.
<br/><br/> The users 105 typically operate the client devices 110 by interacting with software on the device 110, such as a web browser 140 that provides navigational and display functionality for content delivered to the device 110.  Examples of
commercially available web browser software 140 include INTERNET EXPLORER, offered by Microsoft Corporation, CHROME, offered by Google, SAFARI by Apple, Inc.  and FIREFOX offered by the Mozilla Foundation.  In some embodiments, the client device 110 also
includes client software 145.  The client software 145 provides functionality to the client 110 that allows a user to view, customize and observe the collection and use of advertising information by entities that deliver content and/or ads to their
device as described in greater detail below.  The client software 145 may be implemented in various forms, for example, it may be in the form of a Java or .NET applet that is downloaded to the device 110 and runs in conjunction with the web browser 140,
or the client software 145 may be in the form of a standalone application, implemented in a multi-platform language such as Java or in native processor executable code.
<br/><br/> The communications network 120 connects the client device 135 with the other entities in the environment.  Communication among the entities may take place via any media such as standard telephone lines, a local or wide-area network (LAN or WAN
links such as T1, T3, 56 kb, X.25), broadband connections (ISDN, Frame Relay, ATM), wireless links (cellular, 802.11, Bluetooth, etc.), and so on.  Preferably, the network 120 facilitates the transmission of TCP/IP protocol communications and HTTP/HTTPS
requests made by the web browser 140.  The type of network is not a limitation, however, and any suitable network may be used.  Non-limiting examples of networks that can serve as or be part of the communications network 120 include a wireless or wired
Ethernet-based intranet, LAN or WAN, and/or the global communications network known as the Internet, which may accommodate many different communications media and protocols.
<br/><br/> In many implementations, a service provider 120 provides the client device 135 with access to the network 120.  Examples of service providers may include Internet Service Providers ("ISPs"), cellular service providers, cable television
subscription service providers and similar multiple system operators ("MSO's").  Furthermore, application platforms 125 (e.g., iGoogle, <b><i>Facebook,</i></b> Yahoo!, MSN, etc.) provide users with functions such as email, file sharing, chat, and other social
networking features aimed at "capturing" the users so that a majority of their activity occurs through or is facilitated by the platform 125.  By maintaining contact with the users over time and across multiple functions (communications, shopping,
search, web browsing, etc.) the platforms 125 have access to a significant amount of information about the user's habits, likes and dislikes and can use this information to provide better services and more targeted advertising.  In some instances, the
application platforms, ISPs, content providers, ad networks and advertisers collect information regarding the user's web habits and share the information with each other as well as third parties.  It is this collection and sharing of data based on the
behavior of users (often without their knowledge or consent) that is addressed by the various aspects and embodiments of the present invention.
<br/><br/> Referring now to FIG. 2, a monitoring service 205 includes software components and a data collection, analysis and reporting infrastructure that facilitates the monitoring of behavioral advertising activities of various entities within the
online ecosystem.  Further, the service provides users with the ability to view the targeted advertising and privacy policies of those entities within the online ecosystem that utilize or permit targeted advertising on their sites.  Generally, and in
various implementations, the service provides customized notices to users related to the targeted advertising techniques used to deliver content and/or advertising to the user as they request, review and interact with electronic content.  The ads may be
delivered via the Internet to one or more web pages, via a mobile carrier to a mobile device, or part of an application or widget included in other digital content such as games, social network applets, and the like.  The notices may include information
about the parties that collect and/or use behavioral information to serve ads to that user or users in general.
<br/><br/> Generally, the service 205 includes multiple functional components, some of which can be provided to one or more of the entities operating within the online environment and operate remotely, whereas some components may operate as a
centrally-managed service.  For example, one or more discovery engines 210 operate on web pages, messages, emails, and other machine-readable code to identify elements, tags, text and other objects that may constitute signs that behavioral and/or
targeted advertising is being used to deliver ads or other content to the user.  In addition to the discovery engines, one or more scripts and/or APIs may be stored in a script library 215.  The scripts and APIs may be made available to the various
entities for inclusion into content or ads, as plug-ins into operational applications such as browsers, ad network servers and/or web servers such that as content is selected, delivered and/or rendered the scripts execute on the content to discover and
report on advertising practices of the various entities.  Users may interact with the service through the to manage their preferences and interests with respect to various third party content providers and/or publishers.  In some cases, configuration
settings and data supporting the discovery engines, scripts and APIs may also reside remote from the central service, thereby allowing users and other ecosystem participants to manage and store their settings and preferences locally.
<br/><br/> A placement engine 220 provides the primary functions related to the reporting and monitoring of advertising practiced on the web.  One component of the placement engine 220 includes a notice configuration and generation subsystem 225 that gives
advertisers the capability to customize what notices are presented to users when they inquire about the source behind an advertisement and what the notices look like.  In some embodiments, the configuration and generation subsystem 225 provides visual
templates (e.g., CSS style sheets, HTML templates, etc.) for designing pop-up notices and other messages.  The notices may include text, graphics and links to other sites or pages with additional information or forms related to privacy and advertising
practices of the advertisers.  Another component of the placement engine is a delivery subsystem 230 that allows advertisers (and in some cases the users) to define how and when the notices are delivered.
<br/><br/> In certain implementations, the discovery engines 210 and/or the scripts 215 collect and report data and events back to a centralized database 235.  The centralized database may include data related to the privacy and behavioral targeting
policies and practices of the various members of the online environment.  The database may also include historical data regarding how users request and interact with the various notices provided by the system, as well as user-specific information, if
provided.  For example, a user may provide general demographic information such as age, sex, income level and state or city of residence and, as she interacts with advertisement notices, the system may track which ads she requests notification for,
whether she requests additional information, changes her preferences, opts out of any notices, etc. When gathered centrally across thousands of users and millions of interactions, the system can provide significant value to advertisers, ad networks and
other members of the advertising ecosystem with regard to users' tolerances and preferences with regard to behavioral targeted advertising.  A reporting engine 240 may be used to aggregate, summarize, analyze, anonymize, and format the data and
facilitate the sharing of information among and with the various entities.  In some cases, a service provider may operate the monitoring service and offer subscriptions (either free or fee-based) to the data.  The functionality, usage and deployment
options of each component are described in greater detail below.
<br/><br/> Referring now to FIG. 3, a method for providing consumers with access to information about and policies governing the use of targeted and behavior-based advertising includes interactions among the monitoring service, the client device 110
(operated by the consumer or user) and one or more entities within the advertising ecosystem, 115-135.  Initially, the monitoring service provides one or more scripts (STEP 305) that can be embedded in client software (STEP 310) and/or content (STEP
315).
<br/><br/> The scripts (including, but not limited to HTML, JavaScript, Flash scripts, etc.) may be embedded in a web page, mobile page, Flash page, application and/or advertisement and implement the notice discovery and notice generation processes
described below.  Once deployed, the scripts may be written to and/or executed on a web page when an ad targeted to particular user behaviors is served, when an ad collects data that may be used in the future for the purposes of behavioral targeting,
and/or when a data collection event occurs on a web page that is independent of a serve event.  If implemented at the advertiser, ad network, ISP, content provider or application platform, the script may be embedded into the HTML code of a creative unit,
into the scripts that are used to collect data about a consumer, or into the ad serving system that is responsible for serving the ad or data collection code.  The script may also be embedded in a number of other ways, including direct integration with
ad delivery systems, direct injection at the ISP/WAN/LAN level.  If implemented at the client device, the scripts may be part of a browser toolbar or other application extension, as well as other software (e.g., operating system software, downloaded
apps, etc.) on the end user's device.  In some instances, the script may be integrated with other security software applications provided by commonly-known anti-malware software providers such as Symantec, McAfee, and Norton.
<br/><br/> The scripts may include various parameterized HTTP requests that are made by the script, commonly referred to in the advertising industry as "tags." The tag (or tags) may be parameterized with variables that may be used to inform consumers about
the origin and attributes of the entities collecting and using ad data, as well as their use practices related to such data.
<br/><br/> Examples of such parameters include: CAMPAIGN_ID--A unique identifier for the code, keyed off of an ad campaign, such that any ad running in this campaign will have the same script code attached to it.  SERVING_SYSTEM_ID--Identifies the serving
system that serves the ad to the web page.  DATA_CONTRIBUTOR_ID[ ]--An array identifying other parties that contributed data used in the serving of the ad, such as information about a user's past behavior on the web.  URL--An optional parameter to
identify a top-level URL or domain of the web site serving the ad, which may be used in instances in which the script is served into an IFRAME or into nested IFRAMES.  For example, the system that is writing the HTML script to the web page may have
visibility into the top-level URL and therefore may pass this information to the script.
<br/><br/> The type, number and format of the parameters may, of course, differ depending on the particular implementation and does not limit the scope of the invention in any way.  Other campaign-specific parameters may be stored on a central server. 
These may include: DO_NOTICE--A binary value representing whether the system is to serve notice to consumers if the system determines that existing notice is non-extant or insufficient.  STYLE INFORMATION--Files and images used to give a custom style (a
"skin" or "private label") to the notice that a consumer sees.
<br/><br/> Referring again to FIG. 3, as users navigate web sites, request content on a mobile device, receive email and other messages (STEP 320), members of the advertising ecosystem interact to respond to the user's request for content.  In one
implementation, a content provider retrieves the requested content (STEP 325) from one or more content servers or, in some cases, secondary content providers.  In many instances, the format of the content includes sections that are meant to be filled
with ads when the content is served.  In some cases, the content provider 115 subscribes to an ad network 135 that aggregates ads from numerous sources (e.g., multiple advertisers 130, other ad networks 135, etc.) and provides the advertising content to
fill the adspace (STEP 330).  In other cases, the content may be provided to an application platform 125 (e.g., <b><i>Facebook</i></b>) which may in turn enhance the content with ads from various sources.  Once all ad spaces are filled, the content is transmitted to
the user (STEP 335).
<br/><br/> In instances in which the scripts execute on the client device 110, targeted advertisements are identified (STEP 340).  To identify instances of behavioral targeting, the scripts may include or invoke one or more discovery engines, which are the
mechanisms by which the system interrogates the web page for signs of behavioral targeting and other relevant activity.  Such activities include indications that entities are collecting or using data that relates to behavioral targeting and evidence that
those entities (as well as the web page itself) are giving notice to the consumer with regard to these activities.  Categories of discovery engines include pattern matching engines, DOM crawling engines, JavaScript object discovery engines, microformat
discovery engines and meta-data listening engines.  Pattern matching engines use regular expressions (and other text search capabilities) to look for specific patterns in web page source code.  The text may be URLs from known entities, known JavaScript
used for targeted advertising purposes, etc. DOM crawling engines inspect the current page's Document Object Model (DOM) and identify the presence of well-known or easily-identifiable elements.  Examples include HTML elements that signify the presence of
a seal from another monitoring platform (e.g., the TRUSTe or BBB Online seals), SCRIPT tags with well known source URLs, etc.
<br/><br/> JavaScript object discovery engines search for JavaScript objects and/or well-known variables that are frequently instantiated on a page by third party advertisers.  These objects may contain, for example, data about a delivered advertisement. 
One particular engine can discover the presence of data passed among entities within the advertising ecosystem.  For example, one entity may indicate that they are using data from party X, so that another entity can read display that information to a
user.  Microformat discovery engines identify elements on the page that are tagged with well-known indicators according to current micro-formatting practices.  For example, one common micro-format pattern tags HTML elements with a well-known CSS class
name, which a discovery engine can search for to identify online behavioral advertising (OBA) data collection, such as:
<br/><br/> &lt;script class='oba_data_collection' src='http://adnetwork/collect.js'&gt;&lt;/script&gt;
<br/><br/> Micro-formats can also be expanded to include compact, text-based descriptions of what the entity collecting data intends to do with that data.  For example:
<br/><br/> &lt;script class='oba_data_collection COL SHR NPI' src=`http://adnetwork.com/collect.js`&gt;&lt;/script&gt;
<br/><br/> In this case, the `COL SHR NPI` parameter may include descriptions of what adnetwork.com is going to do with the data it collects (e.g., `not share with third-parties, not collect personally identifiable information`, etc.).  The system may then
present this information (in a human-readable format) to a user as described below.  Micro-format discovery also considers instances in which JavaScript execution is prevented due to certain conditions such as device capabilities (some mobile browsers
have JavaScript off by default) or security restrictions (third party JavaScript disabled by corporate policy or a security extension such as NoScript is installed).
<br/><br/> Meta-data listening devices may also be used to discover advertising components embedded within content.  For example, many interactive and video ads are delivered through players (plug-ins) such as Adobe Flash, Apple QuickTime, or Microsoft
SilverLight.  While providing significantly enhanced functionality and a standard presentation format to content providers, the same advanced processing and communication capabilities often allow for the inclusion of "malvertising" (malware disguised as
ads).  Because of this, many publishers, especially in the social media space (MySpace, <b><i>Facebook,</i></b> etc.) disable the ability of these players to modify the web page or data structures using scripts on the page.  In the case of Flash, for example, the
allowScriptAccess attribute manages this function.  In these cases, the player cannot directly communicate meta-data about ads.  For example, the player will not be able to populate a CLEAR data structure.  Therefore, a meta-data listening discovery
engine may be used to implement a local inter-process communication mechanism for exchanging data with these types of players when JavaScript data structures cannot be directly exchanged.
<br/><br/> For example, two Flash movies (SWF files) from the same domain on the same machine can communicate directly, across frames, if necessary, using the LocalConnection object (flash.net.LocalConnection).  This communication is invisible to other
scripts and Flash movies from other domains.  Cross-domain communication can also be enabled through the parameterization of the Security class allowDomain( ) and allowInsecureDomain( ) methods.  Similar methods of communication exist for Java applets,
Microsoft Silverlight and other browser runtime plug-ins.  In this example, the discovery engine instantiates a Flash "listener" object by dynamically generating the appropriate DOM elements.  Since this object exchanges JavaScript with the web page, it
can be used as a conduit for other information and page parameters.  Another Flash object communicates encoded data structures to the listener object and the listener object then translates the structures to data structures in the web page that can be
discovered using one of the mechanisms described above, e.g., as JavaScript objects describing CLEAR meta-data.
<br/><br/> It is important to note that due to the asynchronous nature of HTTP-based resources, how they are loaded in web pages and how scripts process inside pages over time, the discovery engines may execute periodically, either as a result of certain
events, frequency parameters or based on timeouts, etc.
<br/><br/> The process and its components are designed to have minimal impact on consumer experience and page load time.  Content requests (STEP 320) from the client 110 to a content provider 115 (or other file storage system) requests a static file that
can be cached by a consumer's browser.  The HTML scripts gather context about the web site and uses the context information to determine which file to request next.  For example, a main script requests a file of the format
[CAMPAIGN_ID]_[WEB_SITE_URL].js--and if the campaign ID is "123" and the requested URL is http://sports.yahoo.com/baseball, the file is referred to as 123_sports.yahoo.com-baseball.js.  If this file does not exist, the file [CAMPAIGN_ID].js (the file
name being "123.js") is returned, or the HTML script requests the file [CAMPAIGN_ID].js.  This second file contains specific information about the campaign (and URL, if found), such as the entities collecting data on the URL, information about all
entities found (such as a privacy policy and disclosure links, names, opt-out information, and custom marketing messaging), and information about the style (icons, CSS) of the notice.  If the advertiser has specified that the system should not provide
notice (even when existing notice is insufficient or non-extant), some of the above information (including that about notice style and contents) may not be included in these files.  The files can be cached by the browser for subsequent recall without
having to request the files from the server.
<br/><br/> Because the HTML scripts may not have total access to the entire HTML page on which they are served, additional context about the page (URL) may be needed.  The additional context that the scripts request from the content provider 115 or other
server may be data acquired by other sources, such as from web crawlers, panel data from a number of users who have client software installed on their machines that send data to central servers, or from web browser extensions (or `add-ons`).  This data
contains a list of advertising-related entities discovered on the page by these other sources, such as that a third party server (i.e., not in the domain of the web page) managed by a particular entity that uses behavioral targeting is receiving requests
from the user's browser, that data about the user's browsing habits is being collected and stored by a third party in its own data stores or in a cookies on the browser.  By combining data from these external sources with data from the `real time` HTML
scripts, a full picture of all behavioral targeting activity may be gathered.
<br/><br/> In some situations, the scripts and/or discovery engines embedded within or operating on a Web page needs to know certain attributes of the top-level page such as the URL, or portions of the URL.  In many implementations this may be
straightforward, but this is not the case if the script is operating in a context where the browser security model prevents this determination, as in the case of scripts executing inside of nested IFRAMES.  In the case of online advertising, nested
IFRAMES are typically used by exchanges and other intermediaries that resell unused inventory of brand-name publisher real estate at remnant prices.  The nesting is done both for security reasons and to protect the anonymity of the publisher.  As such,
ads delivered within nested frames poses challenges for online advertising monitoring and compliance platforms trying to record the incidence of certain activities in the context of the site/page where they are being presented.
<br/><br/> Therefore, in some embodiments, scripts executing inside a doubly (or more) nested IFRAME determine attributes of the top-level page without making the top-level page address and content available to any script inside the nested IFRAME (which
would defeat the purpose of multiply-nested frames).  Such a determination may be trivial if the ad is served "in line" with the page or within a single IFRAME.  If, however, the ad is being served into nested IFRAMES additional techniques are needed to
determine the top-level domain.
<br/><br/> In cases where an ad delivery system serves an ad, and writes the TLD and page URL into the HTML scripts via a "macro," the scripts include text recognized by the serving system and can replace a variable with the page URL.  For example, if the
unknown URL is initially referred to as {PUBLISHER_URL}, the system receives the actual URL (e.g., sports.yahoo.com) and modifies the line in the script accordingly from "var oba_URL=`{PUBLISHER_URL}"` to "var oba_URL=`sports.yahoo.com.`" Cross-frame
communication may also be used if the code is written in-line with the top-level domain and is in the same domain as the HTML scripts.
<br/><br/> Another common challenge is to determine, for a given content publisher, why certain third-party tracker code or objects appear on their website.  In one embodiment, IFRAME detection is used to "follow" a path back to the responsible party via
the content providers, ad networks and advertisers by looking them up in the chain.  In one exemplary case, after a page is loaded at the client, a scanner is initiated that marks all of the elements on the page that are identified as trackers and builds
a tree-like representation of the identified trackers in relation to the top-level web page.  This tree is based on the IFRAME tree structure and may take the following form:
<br/><br/> TABLE-US-00001 top web page: cnn.com | |- Doubleclick DART (iframe) | |- Quigo (script) | |- Double Verify (pixel) |- Doubleclick DART (iframe) |- DoubleClick (iframe) |- RightMedia (script) |- RightMedia (pixel)
<br/><br/> The visible structure is then recorded and stored by the monitoring service.  Once recorded, the service can maintain a full structure mapping of a given web site and how any particular tracker appeared on the site.
<br/><br/> Referring again to FIG. 3, once the various advertising components, objects, scripts and other elements are identified a visual notice element is presented to the user (STEP 345).  The delivery and visualization subsystem includes a primary and
secondary notice component.  As described generally above with respect to FIG. 2, the placement engine 220, notice configuration and generation subsystem 225 and a delivery and visualization subsystem 230 provide the primary functions related to the
reporting and monitoring of advertising practiced on the web.  The configuration and generation subsystem facilitates a customizable, per-entity or per-campaign configuration of components that drive the visual styling of the notices provided to the
user, including CSS files, client-defined templates, and/or primary and secondary notice icons.  Marketing messaging from the third party or parties (logos, custom text, and links to web pages controlled by those entities) may also be included.
<br/><br/> In addition to discovering targeting activities being initiated on a web page or ads on the web page, the system provides information about third party tracking and use of consumers' past behaviors directly within the page being viewed. 
Therefore, if the user wishes to learn more about the ad, how it was selected, the entities that selected and presented the ad, etc. the user may select the icon (STEP 350).  If selected, basic information about the ad is presented (STEP 355), and, in
some cases, the monitoring service will retrieve additional information about the ad (STEP 360) and the secondary targeting details notice is presented to the user (STEP 365).
<br/><br/> The primary notice may be in the form of an icon and/or text that appears over or adjacent to an online advertisement or over or adjacent to another specified HTML element on the web page when the page loads.  The secondary targeting details are
displayed as a user clicks on, `mouses over` or otherwise selects the primary component.  The secondary details may include more detailed information about the ad, its source, and the behavioral targeting practices of the entities in the advertising
ecosystem that were responsible for selecting and delivering the ad.  Examples of such information include the name of the advertiser, the delivering ad network, intermediate ad networks, and any data providers or enhancers of the advertisement.  In some
cases, an optional, third-party-defined message (the third party being an advertiser, the delivering network, intermediate networks, and any data providers or enhancers), may also be shown along with links to pages on the third party's site for
additional reference.  Further, industry-defined messages may be provided to the consumer, with links to industry association-developed websites, such as the Better Business Bureau, the Interactive Advertising Bureau or the Digital Advertising Alliance.
<br/><br/> In some cases, determinations are made as to what the notice should look like (e.g., text, an icon, or both) and where the visual notice is to be placed.  For example, an ad may be written in-line to the page code, wrapped in IFRAME, or included
in other elements like &lt;div&gt; tags, etc. In such cases, the code delivering the notice may be included by an ad server when the ad server writes ad code to a web page.  As such, the code maybe included with several other tags that perform other
functions.  Because the tag produces a visual overlay (the icon and overlay with more detailed information), it is preferred to have the overlay positioned near the actual ad to which it refers, which allows for the programmatic determination of the
location of the actual HTML element containing the ad.
<br/><br/> During the execution phase of the tag, several layout possibilities may be attempted and the surrounding HTML elements then "tested" to see if they are in fact part of the ad.  For example, a one-directional look-through is used if the code is
to be placed after the ad.  In one embodiment, a function looks through all previous elements and selects the correct ad by recursive checking through all previous elements and looking at their enforced sizes in comparison to the ad size being targeted. 
Once an element has been identified as the desired spot, additional checks validate how far from the anchor pixel it is, whether this spot is already anchoring a notice, and finally, if the spot is set to be visible.  Several other detection methods may
be used throughout the tag, but this method serves as the default when other less robust detection methods fail to identify a valid ad spot.
<br/><br/> Some implementations also include dynamic notice placement functionality in order to determine an optimal placement for the notices.  For example, the placement may be directly over an advertisement, or over a specified element on a web page. 
In some instances, a web site publisher may desire that all notices be given from a particular placement on the site that they control, rather than have different types of notices be shown for different ads on their site.  The publisher may then annotate
an HTML element on its page, which is discoverable by the HTML scripts described above.  Examples of such an annotation include:
<br/><br/> &lt;div id="oa_notice"&gt;&lt;/div&gt; and &lt;div class="oa_notice"&gt;&lt;/div&gt;
<br/><br/> Adding dynamic elements to the notices also addresses the problem of notice collision.  Frequently, several different entities deliver ads to a single web page.  For example, a content publisher may use their own ad server and put code
requesting that ad server return an ad for that page.  If, however, the server has no suitable ad to show, then instead of returning nothing, it may return code to the web page that requests an ad from a different server.  This may occur many times
before an ad is actually selected to appear on the page.  As each entity delivers code to the web page, they may also deliver a notice element, resulting in many notices for a single ad.  Notice tags/code described above are aware of each other, and have
the ability to display a visual notice element only once.  However, that one notice will contain information from all of the tags associated with that particular ad.
<br/><br/> In some instances, the configuration and generation subsystem tracks views of the notice(s) as well as click-throughs to a third-party web site (via links in the notice).  By collecting and storing such data, the monitoring service can be used
by advertisers and content networks to view aggregated and time-based statistics regarding consumer behavior in response to the notices.  Such data may be provided via an online service, exposed as a web service for inclusion into other web sites, or
accessible via an API.
<br/><br/> After or while the user reviews the notices, she may update certain personal preferences related to targeted advertising practices (STEP 370).  For example, in some implementations the user may opt out of being behaviorally tracked or targeted
by any or all of the aforementioned third parties.  In such cases, when the user selects the appropriate link or clicks an object to indicate her preference, a cookie is placed on her machine indicating she no longer wish to participate in targeted
advertising.  The opt out feature may be global (e.g., all websites, all networks, etc.), whereas in other cases it may be specific to a particular ad network, a content provider, advertiser, and/or a product class.  Preferences are then forwarded via
HTTP to the affected parties and saved by the monitoring service (STEP 375).  The preferences may be stored centrally, remotely (e.g., on the client machine) or, in some cases, both.
<br/><br/> In certain instances, the entity or entities responsible for selecting and serving the ads may update parameters related to the notice provisions provided to the users.  For example, a frequency capping feature may be provided which, when
activated, avoids redundant or excessive notices.  Using this feature, an advertiser, content provider or ad network can specify that certain notices (or all notices) only be shown at or no more than a particular frequency (e.g., one in n times per
period day) to any particular user.  To enable this feature, the monitoring service stores an indication of which notice(s) were delivered and at what time the notice was shown to a particular user based on a client-resident cookie.  In some cases, the
system also allows consumers to block subsequent notices from a particular advertiser or, in some cases, globally.  This preference is also stored in a browser-resident cookie which, depending on how scripts are implemented, may use Flash helper objects
to persist as a Flash cookie.  A configuration variable in the main HTML script may be used to specify how long these consumer preferences will be honored, before a reset is triggered or required.
<br/><br/> In some implementations, entities within the advertising ecosystem can access reporting, analysis and management features of the monitoring service.  For example, a content provider may be interested in the frequency that its site visitors
request detailed targeted advertising information regarding ads served on its site.  The content provider may, in some cases, subscribe to the monitoring service and remotely access and view certain online reporting capabilities that provide such
information (STEP 380).
<br/><br/> The monitoring service may also collect, store and provide access to entities' privacy policies and general policies about advertising targeting-related practices.  This policy mining capability can be performed manually (in an in-house,
outsourced or crowd-sourced manner) by people who browse to sites and summarize policy information, by web crawlers that seek out pages where policy information is found, or by a program that reads and interprets an entity's machine readable (such as
P3P) and/or human readable (such as privacy) policies.  The information may be based on publicly accessible data or based on private data such as legal contracts or other agreements that describe the relationships, obligations, and restrictions among the
various advertising ecosystem participants.  Examples of certain restrictions or policies that may be in place for certain participants include: only showing ads to people who have opted in to be targeting in some manner; only showing ads on sites and in
applications that are certified in some manner, e.g., hold a TrustE certification or are integrated with the monitoring service described herein or other such similar service; an ad cannot be shown next to objectionable or sensitive content; and/or ads
from secondary advertisers can only be executed/served/delivered through entities having privacy policies that are equally or more stringent than the primary advertiser's privacy policy with respect to certain policy parameters.
<br/><br/> This data can be combined to enable the provisioning of additional services to the participants in the advertising ecosystem as well as the consumers to whom the ads are sent.  The data can be used to develop privacy safety ratings and other
consumer-based measurements for web sites, content providers, application platforms, and/or downloadable applications that can be provided to users upon request or reported on a publicly available web site.  For example, a consumer may have a
"first-party" relationship with a primary web site (i.e., he has purchased from the site or is a "member" of the site), yet there may be other third-party entities interacting with that browser and delivering ads on the site.  These "secondary" entities
may have `looser` privacy policies than those of the primary site, which the user likely acknowledged.  If the primary site does not disclose to the user the presence of the secondary entities, he has no way of knowing about the looser policies and that
his actions on that site may be used by the secondary site for behavioral and/or targeted advertising purposes.  Using the techniques described herein, the secondary sites' practices are identified and made available to other ecosystem participants, who
may then integrate the data into their own ad targeting systems.  If desired, advertisers can specify that their campaigns should include only `privacy safe` sites, to sites with a certain privacy `rating` or that meets a minimum privacy `threshold.` The
data may be made available to the other parties via a real-time API and/or via `site lists` delivered through a protocol like FTP.
<br/><br/> In some cases, the data may also include one or more "white lists" that includes a list of entities that the system assumes to be compliant with certain privacy and notice provisions, and therefore does not require real-time verification. 
White-listed entities can be any type of entity that participates in online behavioral advertising, including publishers, data aggregators, data collectors, and ad networks.  In some cases, these entities may "pre-register" by completing and submitting
evidence (e.g., a questionnaire, sample code, affidavits, etc.) that their sites comply with various privacy policies and/or best practices.  In some cases, the maintenance of white lists may involve various types of testing and monitoring technologies
that verify behaviors consistent with maintaining "membership" to the white list.  For example, a web site may be white listed because it is known to have certain technologies and processes which are known to allow other entities to be white listed.
<br/><br/> The data may also contain one or more "black lists." In this context, an entity listed on a black list is known to always be non-compliant.  One example is a web site that has no privacy policy or notice of disclosure that relates to behavioral
targeting practices, or sites that are known to drop adware, spyware, or other malware onto client devices.
<br/><br/> Once a minimal amount of data has been collected about the behavioral targeting activities and privacy features of a website, the monitoring service determines a privacy risk of the site.  The risk can be presented to advertising clients as a
privacy rating, which advertisers can use when choosing the sites on which their campaigns will run.  For example, a highly brand-conscious advertiser may choose to not deliver ads to sites with low privacy ratings.
<br/><br/> In addition to determining a privacy and/or security rating for a particular site or ecosystem participant, the monitoring service also tracks consumer actions regarding the primary and secondary notices, as well as their selection of
preferences.  For example, the service receives a message from the client device each time the user clicks on a `primary notice` icon or text, when a consumer clicks on any link in the `secondary notice, and when a consumer opts-out from any parties from
within the secondary notice.  Using this data, the service can provide reports to advertisers and other ecosystem participants that detail how often consumers are opting out of targeting advertising from their advertisements.  Advertisers, content
providers, application platforms and other participants can then tailor marketing messages included with the notices in an effort to influence these metrics.  As an example, an advertiser may modify the text of a primary notice to try to drive more
people to click on a link where they can get more information, or they may edit text in order to steer people away from opting-out.  This process can also be automated, such that an ecosystem participant may provide multiple different text messages to be
included in the notice (they may also give different icons, sets of graphics, CSS styles, etc.) as well as an optimization metric, such as `minimize opt-outs,` `maximize clicks on links that go to my site`, etc. The service then randomly serves both
types of notices, tracking the results during a `learning` period, and in some cases may switch to serving only the set that best meets the client's desired goal.
<br/><br/> Many video and interactive advertisements and data collection scripts use Flash or similar "players" as the delivery mechanism because current browsers do not support the rich media, graphics and processing capabilities of Flash, SilverLight and
Java in page-based script.  In these cases a different architectural approach is used to capture information embedded within the ad.  For simplicity, the following discussion will be restricted to a description of how Flash-based video players interact
with the monitoring platform, however it should be evident that the teachings are readily transferrable to other rich-media platforms.
<br/><br/> Flash video players with advertising and/or data collection capabilities include three components: core player code, data collection/analytics code, and advertising (targeting/ad delivery/ad interactivity) code.  Typically, video ads are
integrated into the player when rendered at the client as opposed to stitched into the stream on the server.  Exceptions to this include some mobile and interactive television ("iTV") scenarios.  Measurement and other ad components may also be provided
by third parties (analytics vendors such as VisibleMeasures and video ad networks such as ScanScout) and inserted in the player by the player owner (often a publisher, sometimes an ad network).
<br/><br/> A first approach uses a component-based distribution model.  In this case, the content provider configures a player to serve ads for that provider.  Generally, the content provider uses the same (or very similar) components to standardize data
collection processes across all instrumented players.  One drawback, however, is that the adapter layer between the publisher's player and the ad provider's component can still vary greatly depending on the structure of the player.  This model is
typically used in complex advertising models because it offers the most control over the interaction between the publisher's content and the ads, resulting in a better user experience.
<br/><br/> Another approach uses a standardized XML template (e.g., DART or Yahoo APT) that defines the type of ad the player is allowed to show.  In this case, the player (regardless of which entity in the ecosystem owns or operates the player) enables
playback and handles the display of the ad.  This type of model is more popular in cases where the publisher is a content delivery platform (e.g., Brightove) because it supports many different ad providers within a single player platform.  Recently,
efforts towards standardization have resulted in implementations such as IAB's VAST (the "video ad serving template" XML specification) and VPAID (the "video player-ad interface definition" API).
<br/><br/> Typically, the player orchestrates calls to the ad serving component.  The VPAID handshake model is one example of the where the player determines when an ad should be played and then directs the ad serving component to do so.  In these cases,
the ad serving component takes inputs from the player and makes a call to the ad network which returns a structured payload, typically in XML format.  Within the payload is a link to the stream that includes the ad or an image (which, in some cases may
be in shockwave format) for an overlay.  In typical implementations, the image of the ad is then provided to the "main" code of the player which determines how to display the ad (pause video, etc.).  Typically, overlays are displayed by that main code as
opposed to allowing the ad component to directly render the overlay.
<br/><br/> In many cases, the core player code and the ad component in the player are often provided different entities, and as such introducing compliance capabilities in the player poses challenges.  Even when using a VAST-like XML-based standard to
carry all the compliance-related metadata, compliance logic still must be implemented without requiring an extensive integration between the core player code, the ad serving code and the compliance code to implement functions such as the notice display.
<br/><br/> One particular approach to capturing the right meta-data in a non-invasive manner captures the XML payload associated with a video ad.  One implementation of this approach "listens" to the event generated when the XML payload is received as
communications in the Flash player return results through callbacks.  Since this is specific to an object inside the ad component, the ad component requires registration of a third-party listener.  A compliance component is given access to the object
that loads the ad response from the server before it can add an event listener to it using a scripting language such as ActionScript.  Security restrictions may also be put in place if the two components live on different domains and if the code is
integrated directly into the player.  Therefore, the ad component can affect a single logical API call to the compliance component by providing information about the object and the event on that object generated when the XML payload comes back, and the
compliance component can then capture relevant meta-data.  This technique can implemented through a direct method invocation or, for looser binding, via the ad component firing an event received by the compliance component.
<br/><br/> Once the meta-data is available to a compliance component, notices may be displayed (in icon and/or detail form) and facilitate user-initiated and/or automated events such as stopping video playback, closing a browser instance or tab, etc. In
effect, the notice provides a means for interacting with the player within a privacy and security context.
<br/><br/> The metadata may then be communicated from the video player to the enclosing web page either directly through JavaScript or via local communication as described above for the metadata listener discovery engine.  Video players also identify when
an ad is active so that the overlay can be displayed by the notice logic on the page.  This architecture may be implemented in a manner similar to that of VPAID over LocalConnection.  With the combination of XML payload capture and integration with
external mechanisms for notice display, it becomes possible to implement a single, easy to integrate compliance component for use inside Flash-based video players with advertising capabilities, providing notable improvements over the current state of the
art.
<br/><br/> In some cases, more than one ad may appear on a single page, and the scripts that instantiate the notice or notices should do so for each individual ad.  In order to maintain acceptable browser performance, the code is designed to prevent
additional remote script loading when a version of the tag payload is already present.  This reduces the required bandwidth where there are several notices to be shown on a particular web page because the same code is used for each notice and does not
have to be downloaded again.
<br/><br/> The embed code (e.g., the JavaScript copied into a destination ad) looks up a parameter that is set by the payload code (the of code that is downloaded every time and embed code is encountered), and if the parameter has not been set, the embed
code allows the remote payload to be loaded.  If, however, the parameter is present in the page the JavaScript has already been loaded thus there is no need to retrieve it again.
<br/><br/> FIGS. 4 and 5 are screen captures that include examples of primary and secondary notices.  Referring to FIG. 4, a web page 405 may include one or more advertisements 410 integrated into the page content.  As described earlier, the ad may be
placed by the content provider, an ad network, or other entity and may be based on prior view and/or purchasing habits of the user viewing the page 405.  In accordance with various implementations of the present invention, the existence of the ad 410 and
the fact that the ad is targeted to the user based on previous behaviors is detected and a primary notice icon 415 is included on top of or along side the ad 410.  The user may select the icon 415 if she is interested in learning more about which entity
or entities are responsible for the ad, and, in some cases, their privacy and security ratings, policies, and other practices.
<br/><br/> FIG. 5 illustrates the same web page 405 as shown in FIG. 4, however the advertisement 410 has been replaced with a secondary notice 505 that includes general information about why that ad was selected and what entities served the ad.  The
notice 505 may also include HTML links 510 that bring the user to a separate web page (which may be hosted by the monitoring service or one of the entities responsible for serving the ad) to view additional information, view personal preferences, and in
some cases modify certain settings related to targeted ads (e.g., elect to opt-out of targeted advertising altogether).
<br/><br/> FIG. 6 illustrates one example of a web page 605 hosted by the monitoring service that allows a consumer to learn more about the sources 610 of advertisements served and the ability to view and possibly alter personal preferences regarding the
tracking mechanisms used by the sources.  For example, the web page may include a column 615 indicating whether or not that particular entity uses cookies, whether the cookie is active, and/or if the user has opted out of or disabled cookies for that
entity.  Another field 620 can indicate whether or not the user has opted-out of receiving ads or allowing behavioral tracking at all for a particular entity.  A column 625 may allow users to selectively manage more detailed demographic and other
behavioral data about themselves that may or may not be used to determine relevant ads.  FIG. 6A illustrates one example of a screen 630 at which a user may provide and/or confirm such information.  In some cases, the listing of sources 610 on FIG. 6
includes links to more detailed information about the individual entities.  FIG. 7 illustrates one example of the detailed information 705 provided regarding a particular ad network 610.
<br/><br/> A user's opt-out request may be included in a list of white-listed sources (i.e., the management platform's URL or the URL of a trusted source is known), thereby ensuring that the request was originated by the user and not a third party acting
on the user's behalf.  Moreover, the management platform defines and uses a protocol by which a user's opt-out status for a particular site can be queried by a third party and shown to the user along with similar statuses from other sites.  The protocol
also defines a method for validating that an opt-out cookie was successfully set.
<br/><br/> Different constituents within the advertising ecosystem may have different levels of access to the data, depending primarily upon their entity type and access rights.  Data points stored include:
<br/><br/> TABLE-US-00002 TAG_START_TIMESTAMP The time that the first script began execution.  USER_AGENT The user agent of the consumer (browser type and version, and language setting).  CAMPAIGN_ID The campaign that the script is monitoring.  SERVER_ID
The ad serving system that served the campaign.  DATA_ENTITIES[ ] An array of other BT-related entities present on the same page that the campaign was served into.  GEO_ID The geographic region of the consumer.  URL information The actual URL of the
top-level domain where the campaign was served, or a URL_NOT_FOUND indicator.  IFRAME_LEVEL_ID Indicates if campaign was served into an IFRAME, or into nested IFRAMES IS_URL_WHITELISTED Indicates if this URL (web site) was on white list. 
DISCOVERY_ENGINE results All the discovery engines that ran on the page where campaign was served, and what the engines discovered.  IS_COMPLIANT If `yes`, campaign was served into a compliance context.  If `no`, not.  NOTICE_GIVEN `yes` if the system
served notice.  OPT_OUT_STATUS Indicates whether consumer's opt-out status was checked (in real time), and if so, what results are per network that was checked.  CLIENT_LINK_CLICKED `yes` if consumer clicked on the link to the client's web site
NOTICE_VERSION The version of the client notice that was shown to consumer (if shown) INFO_LINK_CLICKED `yes` if consumer clicked on the link to the industry web site to get more information about behavioral targeting CONSUMER_OPT_OUTS An array of
entities that that consumer opted-out from (from secondary notice), if any.
<br/><br/> The service also provides users with a web-based wizard that guides them through the process of generating a tag (HTML scripts) that may then used to monitor campaigns for privacy-safe compliance.  During this process, users may also select the
style of secondary notice as well as define any custom messaging to be included in that notice.
<br/><br/> In certain embodiments, the monitoring service also includes a monitoring "lab" for performing different types of checks and validations on web sites across the Internet.  The lab may be made up of a number of physical computers acting in
concert, it may comprise a single large-scale computer, or, in some cases a collection of virtual machines operating across many devices.  In some instances, the devices used to execute the discovery and collection functions of the lab are client devices
belonging to users who have agreed to assist in the data gathering and analysis functions, similar to the SETI-AT-HOME project.  As one example, an `Opt-Out Lab` crawls advertiser and network opt-out pages and collects information that is stored in the
browser (via browser cookies and LSO's) after a user has opted out.  Initially, a blank browser profile is created with no existing cached files or cookies, and the browser is directed to the opt-out URL.  It automatically executes any necessary steps to
complete the opt-out process, by clicking a button, following a link, selecting options, etc. Once a confirmation page is reached, or a page has finished loading and there are no further instructions to follow, the lab looks for the cookies collected. 
It then saves the browser cookies and LSO (Flash cookies) in a database with a reference to the URL from which they were created.  Any errors encountered during the opt-out process are reported and no data is saved to ensure optimal results.  These set
of steps are repeated for each different opt-out URL.
<br/><br/> Another instance of the "opt-out-lab" validates opt-out processes to validate that companies are not tracking users once they have opted-out of targeting based on information saved into the user's browser after the opt-out process has been
completed.  The lab performs a regular opt-out, as described above, And using the same browser session from the opt-out process to ensure opt-out cookies are present in the browser, the lab visits websites where companies have placed trackers.  A list of
websites is gathered and the lab crawls through each one, trying to find some trackers that belongs to the company the user has opted out of.  It visits enough websites so that it finds some that contain trackers associated with the opt-out.  At the end
of the process a list of browser cookies and Flash cookies are compiled and filtered to the known domains of the company in question.  This resulting list of cookies is then saved to a database.  In some cases there will be no cookies saved, and this
will be noted.  These set of steps are repeated for each different opt-out URL.
<br/><br/> Another instance of the lab detects privacy notices provided by entities and an automated system for verifying the non-compliance of behaviorally targeted advertisements on the Internet.  Upon visiting a given URL, the lab detects all
advertisements on the page and any associated notices.  Depending on the type of request, a screenshot of the entire page is captured if an advertisement without a notice is detected.  In addition, the date and time of the sample, the browser that was
used, the IP address and location of the machine from which the sample was taken, and any relevant cookies that were found on the machine at the time of sampling are also captured and stored in a database for later review by a compliance officer or other
party.  Privacy policies can also be periodically scanned by a lab of computers and monitored for material changes.  These changes can be displayed in a user interface.
<br/><br/> In addition to allowing the advertisers, ad networks, data aggregators, and ad exchanges to view and manage data regarding users' interactions with their content, these entities often store information about users to use for targeting more
relevant ads.  This information ranges from simple opt-out preferences, to information about users' behaviors and interests.  However, it can be difficult for consumers to manage these preferences globally.  For example, there is no easy way for a
consumer to define a global policy that limits targeted advertising to companies that do not share their data with third parties or have well-enforced privacy policies.  To do so, users typically must visit the privacy policy pages of a number of ad
networks, understand each networks' policies, and opt-out individually of them by locating the `opt out link` on each of those web sites.  In addition, simply finding out which ad networks and companies are responsible for the ads can be difficult. 
Under pressure from advocates and regulators, companies are also beginning to expose to users exactly what they know about them, and offer consumers a way to add, delete, and edit that information.  Consumers still, however, have to visit each of those
companies' web site separately to perform these actions.
<br/><br/> As referred to above, the consumer's opt-out status (or other targeting preferences) must be known with regard to a particular content network or ad network, and/or tracking system in order to accurately implement and monitor online behavioral
advertising guidelines.  To address this need, the monitoring service provides a secure, scalable approach to viewing and setting consumer opt-out preferences across the entire advertising ecosystem.  While many advertising ecosystem entities currently
use the Network Advertising Initiative's ("NAI") opt-out tool, which uses a simple HTTP redirect mechanism to identify opt-out status.  The architecture and methods described herein provides a more secure and scalable standard for any service provider to
operate with entities that store data about consumers and their ad targeting preferences.
<br/><br/> A "Preferences API" is provided that facilitates a set of services that are used to build consumer-facing tools that allow consumers to centrally-manage their online advertising preferences across all networks and exchanges.  The API uses the
browser as a proxy to normalize and display a user's preferences for viewing and editing.  As such, the API allows entities to guide users through a series of questions and policy settings on their own browser that will manage the user's opt-out and data
use preferences.
<br/><br/> More specifically, the API allows service providers (e.g., an ISP, an industry association, a company, etc.) to offer an "opt-out wizard" for users browsing the Web through a particular device.  The monitoring service can then collect and use
the data to provide aggregation services to the service providers regarding online behavioral advertising activities on various content sites.  In some implementations, the API allows a service provider to query a facilitator for the status of a
particular user's preferences (e.g., opt-out, interest, or behavior), and initiate a change of a user's status with respect to a particular a content site.
<br/><br/> FIG. 8 illustrates one example of a user web-based report 805 compiled from data collected from user' interactions with the primary and secondary notice provisions.  The report 805 includes selection options 810 that facilitate the filtering of
data based on industry affiliations (e.g., the Direct Marketing Association, TRUSTe, the monitoring service described herein, etc.) and the category of entities to be shown in the report.  For example, some entities many only be interested in viewing
data from like services (e.g., similar content providers) whereas others may be interested in the entire dataset.  Individual companies 815 may be listed as specific members of the advertising ecosystem, with detailed information related to their use of
online behavioral advertising techniques, the number of ads served (impressions), a percentage of time the primary notice was shown, how often a user interacted with the notice, the success of opt-out policies, as well as other information.
<br/><br/> In some cases, the API functions as two separate programs--one enabling communication between the monitoring service and a content provider (e.g., an ad network, data aggregator, etc.), and another enabling communication between a service
provider and the monitoring service.
<br/><br/> In certain implementations, a top-level service (URL) ("user_service") is exposed by content providers and the monitoring service.  The top-level service responds to several actions, each specified as query string parameters.  Versions of the
API may also be specified in URL paths in order to provide additional flexibility.  An example of one such URL is http://www.adnetwork.com/oba-api/v1/user_service.
<br/><br/> In these cases, all requests are HTTP GET requests having a path of http://DOMAIN/oba-api/VERSION/user_service.  Each request to "user_service" is parameterized, using at least three parameters.  An ACTION parameter instructs the service of the
action to be performed (detailed in the table below), the DOMAIN parameter provides the domain of the entity requesting the operation specified in sufficient detail to allow a call to the user_service on that domain, and a KEY parameter provides a
security token.  The format of the token is not important, and may be treated as a string.  For security reasons, tokens may be generated using strong random number generators.  If a response to an operations requires a 302 redirect, the action on the
redirect URL is obtained by appending "-response" to the action of the operation, unless there is an error in which case the response action will be "error."
<br/><br/> TABLE-US-00003 Action Purpose Additional Parameters Success Response init Initiates security domain - domain of entity HTTP 302: handshake between requesting the operation /user_service?action=init-response parties.  key - requester's security
token init-response Completes security domain - domain of entity HTTP 302: handshake between responding to action = init /user_service?action=[get|set] parties.  key - security token provided in action = init sync-keys Synchronize security domain -
domain of entity HTTP 200 OK keys requesting the operation key - responder's security token my_key - requester's security token get Retrieve status of domain - domain of entity HTTP 302: user's preference.  requesting the operation
/user_service?action=get-response key - responder's security token name - name of preference requested get-response Completes get domain - domain of entity Application specific operation.  responding to action = init key - requester's security token name
- the name of preference requested value - value of user's preference.  set Set a user's domain - domain of entity HTTP 302: preference.  requesting the operation /user_service?action=set-response key - responder's security token name - name of
preference to set value - value of preference to set set-response Completes set domain - domain of entity Application specific operation.  responding to action = init key - requester's security token error Communicate an domain - domain of entity
Application specific error responding to action = init key - requester's security token error_code - name of the error error_info - additional information about the error
<br/><br/> If errors are generated for the init, get or set actions the error information is communicated via a redirect to user_service?action=error.  When an error is generated during user_service?action=sync-keys, the error information is communicated
via an OBA-API-Error-Code response header containing the error code and OBA-API-Error-Info response header containing any additional information.  In that case the HTTP response code is 500.  Samples of possible error codes are listed below.
<br/><br/> TABLE-US-00004 Error Code Explanation UnauthorizedAccess The request is coming from a party that the responder has not agreed to do business with.  InvalidKey The key parameter is invalid.  InvalidAction The action parameter is not one of the
specified by the spec or the entity does not implement this specific action.  InvalidArgument Some other type of problem with the parameterization of the request.  InternalError Another type of error.
<br/><br/> The process also includes various security mechanisms.  For example, random, correlated security tokens for requesters and responders are refreshed for every get/set transaction.  This enhances security by eliminating the possibility of replay
attacks.  Further, both redirects and direct calls happen against specific domains, enhancing DNS security.  Third, content providers can only respond to domains in a white-list that they maintain in order to prevent leakage of opt-out information and
fake opt-out requests.
<br/><br/> FIG. 9 illustrates one method for fulfilling a--request to set a user's opt-out status, using the monitoring service as a facilitator of the process.  In STEP 905, the monitoring service provides the API to the client device such that the client
can integrate the API into the browser (STEP 9110).  The facilitator then initiates a request to a content provider from the user's browser to initiate an operation (STEP 915).  Assuming the domain of the monitoring service is "betteradvertising.com," an
exemplary HTTP command for such a request may take the form of:
<br/><br/> TABLE-US-00005 GET /oba-api/v1/user_service?action=init&amp;key=A34bY34jKO&amp;do- main=betteradvertising.com Host: ad.net
<br/><br/> The content provider receives the init request (STEP 920), which appears to have been initiated by the monitoring service 205 but another entity could be spoofing the monitoring service.  Therefore, the content provider issues a separate
sync-keys request (STEP 925) directly against the domain of the monitoring service, passing the key from the monitoring service and its own key generated for the operation, while keeping the init request on hold.  An example HTTP request may take the
form of:
<br/><br/> TABLE-US-00006 GET /oba-api/v1/user_service?action=sync- keys&amp;domain=ad.net&amp;key=A34bY34jKO&amp;my_key=0.67813503 Host: betteradvertising.com
<br/><br/> The facilitator then receives the sync-keys request and checks the key parameter to make sure it initiated an operation with this key (STEP 930).  If that check passes, the facilitator stores the content provider key with its own key and returns
success (STEP 935).  Having successfully paired keys, the content provider stores the key pair and responds back to facilitator (STEP 940).  In the response, it passes the facilitator's own key back to enable state management.  Exemplary HTTP requests
may take the form of:
<br/><br/> TABLE-US-00007 HTTP/1.1 302 Found Location: http://betteradvertising.com/oba-api/v1/user_service?ac- tion=init-response&amp;domain=ad.net&amp;key=A34bY34jKO GET /oba-api/v1/user_service?action=init-response&amp;do- main=ad.net&amp;key=A34bY34jKO Host:
betteradvertising.com
<br/><br/> The facilitator then responds with a request for a set operation (STEP 945) by passing the key it received from content provider via the sync-keys operation such that the client device can submit the request to the content provider (STEP 950). 
Exemplary HTTP requests may take the form of:
<br/><br/> TABLE-US-00008 HTTP/1.1 302 Found Location: http://ad.net/v1/user_service?action=set&amp;key=0.67813503&amp;do- main=betteradvertising.com&amp;name=oba&amp;value=opt-out GET /oba-api/v1/user_service?action=set&amp;key=0.67813503&amp;do-
main=betteradvertising.com&amp;name=oba&amp;value=opt-out HOST: ad.net
<br/><br/> The content provider then verifies that it recently received that key for that user (STEP 955).  If so, it processes request and responds with set-response, passing facilitator's key.  Exemplary HTTP requests may take the form of:
<br/><br/> TABLE-US-00009 HTTP/1.1 302 Found Location: http://betteradvertising.com/oba-api/v1/user_service?action=set-- reponse&amp;key=A34bY34jKO&amp;domain=ad.net GET /oba-api/v1/user_service?action=set- reponse&amp;key=A34bY34jKO&amp;domain=ad.net HOST:
betteradvertising.com
<br/><br/> The facilitator then generates a response to the user's browser and returns the response confirming completion of the process (STEP 960).
<br/><br/> A request by the monitoring service to retrieve (as opposed to setting) a user's opt-out status follows a similar process, except that the request in STEP 945 is for a get operation with the name=oba parameter and in STEP 955 the get-response
includes a name=oba and value=opt-out parameters.
<br/><br/> If the facilitator receives an unexpected sync-keys operation in STEP 930 it can issue a 500 status response and set the OBA-API-Error-Code response header to InvalidKey.  In order to allow the facilitator to generate an appropriate error
message for the user, the content provider responds to the facilitator with a redirect to an invalid key URL, such as:
<br/><br/> TABLE-US-00010 http://betteradvertising.com/oba- api/v1/user_service?action=error&amp;key=A34bY34jKO&amp;do- main=ad.net&amp;error_code=InvalidKey&amp;error_info=Some%20info.
<br/><br/> If there is an error on the server during the processing of the set operation in STEP 955, the content provider responds with a redirect to a URL unavailable URL such as:
<br/><br/> TABLE-US-00011 http://betteradvertising.com/oba-api/v1/user_service?action=er- ror&amp;key=A34bY34jKO&amp;domain=ad.net&amp;error_code=Inter- nalError&amp;error_info=Server%20unavailable.
<br/><br/> In another embodiment, referring URLs may also be checked to validate requests.  As many existing opt out pages are vulnerable to Cross-Site Request Forgery (CSRF) attacks.  In short, a malicious page could trick a user into opting out from a
vulnerable Service Provider by inserting the Provider's opt out URL in a hidden tag.
<br/><br/> While the above example shows how this service can be used to set and retrieve a user's opt-out preference with regards to a specific network, it can easily be extended to apply to other preferences such as user behaviors and interests that are
tracked and used by contributors.
<br/><br/> The invention may also be provided as an article of manufacture having a computer-readable medium with computer-readable instructions embodied thereon for performing the methods described in the preceding paragraphs.  In particular, the
functionality of a method of the present invention may be embedded on a computer-readable medium, such as, but not limited to, a floppy disk, a hard disk, an optical disk, a magnetic tape, a PROM, an EPROM, CD-ROM, or DVD-ROM or downloaded from a server. The functionality of the techniques may be embedded on the computer-readable medium in any number of computer-readable instructions, or languages such as, for example, FORTRAN, PASCAL, C, C++, Java, JavaScript, Flashscript, C#, Tcl, BASIC and assembly
language.  Further, the computer-readable instructions may, for example, be written in a script, macro, or functionally embedded in commercially available software (such as, e.g., EXCEL or VISUAL BASIC).
<br/><br/> Although the present invention has been described with reference to specific details, it is not intended that such details should be regarded as limitations upon the scope of the invention.
<br/><br/><center><b>* * * * *</b></center>
<hr/>
   <center>
   <a href="http://pdfpiw.uspto.gov/.piw?Docid=09361631&amp;homeurl=http%3A%2F%2Fpatft.uspto.gov%2Fnetacgi%2Fnph-Parser%3FSect1%3DPTO2%2526Sect2%3DHITOFF%2526u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%2526r%3D356%2526f%3DG%2526l%3D50%2526d%3DPTXT%2526s1%3Dfacebook%2526p%3D8%2526OS%3Dfacebook%2526RS%3Dfacebook&amp;PageNum=&amp;Rtype=&amp;SectionNum=&amp;idkey=NONE&amp;Input=View+first+page"><img alt="[Image]" border="0" src="/netaicon/PTO/image.gif" valign="middle"/></a>
   <table>
   <tbody><tr><td align="center"><a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/ShowShoppingCart?backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D356%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D8%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209361631"><img alt="[View Shopping Cart]" border="0" src="/netaicon/PTO/cart.gif" valign="middle"/></a>
   <a href="http://ebiz1.uspto.gov/vision-service/ShoppingCart_P/AddToShoppingCart?docNumber=9361631&amp;backUrl1=http%3A//patft.uspto.gov/netacgi/nph-Parser?Sect1%3DPTO2%26Sect2%3DHITOFF%26u%3D%25252Fnetahtml%25252FPTO%25252Fsearch-adv.htm%26r%3D356%26f%3DG%26l%3D50%26d%3DPTXT%26s1%3Dfacebook%26p%3D8%26OS%3Dfacebook&amp;backLabel1=Back%20to%20Document%3A%209361631">
   <img alt="[Add to Shopping Cart]" border="0" src="/netaicon/PTO/order.gif" valign="middle"/></a>
   </td></tr>
   <tr><td align="center">
     <a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=7&amp;Query=facebook"><img alt="[PREV_LIST]" border="0" src="/netaicon/PTO/prevlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;Query=facebook"><img alt="[HIT_LIST]" border="0" src="/netaicon/PTO/hitlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=356&amp;f=S&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=9&amp;Query=facebook"><img alt="[NEXT_LIST]" border="0" src="/netaicon/PTO/nextlist.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=355&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;OS=facebook"><img alt="[PREV_DOC]" border="0" src="/netaicon/PTO/prevdoc.gif" valign="MIDDLE"/></a>
<a href="/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&amp;r=357&amp;f=G&amp;l=50&amp;d=PTXT&amp;s1=facebook&amp;p=8&amp;OS=facebook"><img alt="[NEXT_DOC]" border="0" src="/netaicon/PTO/nextdoc.gif" valign="MIDDLE"/></a>

   <a href="#top"><img alt="[Top]" border="0" src="/netaicon/PTO/top.gif" valign="middle"/></a>
   </td></tr>
   </tbody></table>
   <a name="bottom"></a>
   <a href="/netahtml/PTO/index.html"><img alt="[Home]" border="0" src="/netaicon/PTO/home.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/search-bool.html"><img alt="[Boolean Search]" border="0" src="/netaicon/PTO/boolean.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/search-adv.htm"><img alt="[Manual Search]" border="0" src="/netaicon/PTO/manual.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/srchnum.htm"><img alt="[Number Search]" border="0" src="/netaicon/PTO/number.gif" valign="middle"/></a>
   <a href="/netahtml/PTO/help/help.htm"><img alt="[Help]" border="0" src="/netaicon/PTO/help.gif" valign="middle"/></a>
   </center>

</coma></body></html>